<!doctype html><html lang=en-us><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=generator content="Source Themes Academic 4.8.0"><meta name=description content="Overview In order to provide an easy way to port a Keyple application from a device with a specific card reader to another, a plugin system as been developed. When a developer wants to include Keyple features within his project, he has to initialize the SmartCardService by providing a plugin Factory available with in the plugin library."><link rel=alternate hreflang=en-us href=https://keyple.org/docs/developer-guide/create-plugin/><link rel=preconnect href=https://fonts.gstatic.com crossorigin><meta name=theme-color content="#1D87BB"><link rel=stylesheet href=https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.14.0/css/all.min.css integrity="sha256-FMvZuGapsJLjouA6k7Eo2lusoAX9i0ShlWFG6qt7SLc=" crossorigin=anonymous><link rel=stylesheet href=https://cdnjs.cloudflare.com/ajax/libs/fancybox/3.5.7/jquery.fancybox.min.css integrity="sha256-Vzbj7sDDS/woiFS3uNKo8eIuni59rjyNGtXfstRzStA=" crossorigin=anonymous><link rel=stylesheet href=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.1.2/styles/darcula.min.css crossorigin=anonymous title=hl-light><link rel=stylesheet href=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.1.2/styles/darcula.min.css crossorigin=anonymous title=hl-dark disabled><script src=https://cdnjs.cloudflare.com/ajax/libs/lazysizes/5.1.2/lazysizes.min.js integrity="sha256-Md1qLToewPeKjfAHU1zyPwOutccPAm5tahnaw7Osw0A=" crossorigin=anonymous async></script><link rel=stylesheet href="https://fonts.googleapis.com/css?family=%7CWork+Sans:ital,wght@0,300;1,500&display=swap"><link rel=stylesheet href=../../../css/academic.css><link rel=manifest href=../../../index.webmanifest><link rel=icon type=image/png href=../../../images/icon_hu16db34b3636b127457de39ca2fab620f_9845_32x32_fill_lanczos_center_2.png><link rel=apple-touch-icon type=image/png href=../../../images/icon_hu16db34b3636b127457de39ca2fab620f_9845_192x192_fill_lanczos_center_2.png><link rel=canonical href=https://keyple.org/docs/developer-guide/create-plugin/><meta property="twitter:card" content="summary"><meta property="og:site_name" content="Eclipse Keyple"><meta property="og:url" content="https://keyple.org/docs/developer-guide/create-plugin/"><meta property="og:title" content="Create a plugin | Eclipse Keyple"><meta property="og:description" content="Overview In order to provide an easy way to port a Keyple application from a device with a specific card reader to another, a plugin system as been developed. When a developer wants to include Keyple features within his project, he has to initialize the SmartCardService by providing a plugin Factory available with in the plugin library."><meta property="og:image" content="https://keyple.org/images/logo_hu673a59176cd62c570f44ed2728665b48_42188_300x300_fit_lanczos_2.png"><meta property="twitter:image" content="https://keyple.org/images/logo_hu673a59176cd62c570f44ed2728665b48_42188_300x300_fit_lanczos_2.png"><meta property="og:locale" content="en-us"><meta property="article:modified_time" content="2020-12-17T10:26:33+01:00"><script src=https://cdnjs.cloudflare.com/ajax/libs/cookieconsent2/3.1.1/cookieconsent.min.js integrity="sha256-5VhCqFam2Cn+yjw61zbBNrbHVJ6SRydPeKopYlngbiQ=" crossorigin=anonymous></script><link rel=stylesheet href=https://cdnjs.cloudflare.com/ajax/libs/cookieconsent2/3.1.1/cookieconsent.min.css integrity="sha256-zQ0LblD/Af8vOppw18+2anxsuaz3pWYyVWi+bTvTH8Q=" crossorigin=anonymous><script>window.addEventListener("load",function(){window.cookieconsent.initialise({"palette":{"popup":{"background":"#1D87BB","text":"#FFFFFF"},"button":{"background":"#FFFFFF","text":"#1D87BB"}},"theme":"classic","type":"opt-in","content":{"header":'Cookiessss used on the website!',"message":"Some Eclipse Foundation pages use cookies to better serve you when you return to the site. You can set your browser to notify you before you receive a cookie or turn off cookies. If you do so, however, some areas of some sites may not function properly. To read Eclipse Foundation Privacy Policy ","allow":"Allow cookies","deny":"Decline","dismiss":"Got it!","link":"click here","href":'https://www.eclipse.org/legal/privacy.php'},})});</script><title>Create a plugin | Eclipse Keyple</title></head><body id=top data-spy=scroll data-offset=70 data-target=#TableOfContents><script>const isSiteThemeDark=false;</script><script src=../../../js/load-theme.js></script><aside class=search-results id=search><div class=container><section class=search-header><div class="row no-gutters justify-content-between mb-3"><div class=col-6><h1>Search</h1></div><div class="col-6 col-search-close"><a class=js-search href=#><i class="fas fa-times-circle text-muted" aria-hidden=true></i></a></div></div><div id=search-box><input name=q id=search-query placeholder=Search... autocapitalize=off autocomplete=off autocorrect=off spellcheck=false type=search class=form-control></div></section><section class=section-search-results><div id=search-hits></div></section></div></aside><nav class="navbar navbar-expand-lg navbar-light compensate-for-scrollbar" id=navbar-main><div class=container><div class="d-none d-lg-inline-flex"><a class=navbar-brand href=../../../><img src=../../../images/logo_hu673a59176cd62c570f44ed2728665b48_42188_0x70_resize_lanczos_2.png alt="Eclipse Keyple"></a></div><button type=button class=navbar-toggler data-toggle=collapse data-target=#navbar-content aria-controls=navbar aria-expanded=false aria-label="Toggle navigation">
<span><i class="fas fa-bars"></i></span></button><div class="navbar-brand-mobile-wrapper d-inline-flex d-lg-none"><a class=navbar-brand href=../../../><img src=../../../images/logo_hu673a59176cd62c570f44ed2728665b48_42188_0x70_resize_lanczos_2.png alt="Eclipse Keyple"></a></div><div class="navbar-collapse main-menu-item collapse justify-content-center" id=navbar-content><ul class="navbar-nav d-md-inline-flex"><li class="nav-item dropdown"><a href=# class="nav-link dropdown-toggle" data-toggle=dropdown aria-haspopup=true><span>What is Eclipse Keyple™</span><span class=caret></span></a><div class=dropdown-menu><a class=dropdown-item href=../../../what-is-keyple/overview/><span>Overview</span></a>
<a class=dropdown-item href=../../../what-is-keyple/why-trust/><span>Why trust Eclipse Keyple™?</span></a>
<a class=dropdown-item href=../../../what-is-keyple/who-is-it-for/><span>Who is it for?</span></a>
<a class=dropdown-item href=../../../what-is-keyple/what-is-calypso/><span>What is Calypso®?</span></a>
<a class=dropdown-item href=../../../what-is-keyple/main-features/><span>Keyple's main features</span></a></div></li><li class="nav-item dropdown"><a href=# class="nav-link dropdown-toggle" data-toggle=dropdown aria-haspopup=true><span>Components</span><span class=caret></span></a><div class=dropdown-menu><a class=dropdown-item href=../../../components-java/><span>Java</span></a>
<a class=dropdown-item href=../../../components-cpp/><span>C++</span></a></div></li><li class=nav-item><a class=nav-link href=../../../#news><span>News</span></a></li><li class=nav-item><a class="nav-link active" href=../../../docs/><span>Documentation</span></a></li><li class="nav-item dropdown"><a href=# class="nav-link dropdown-toggle" data-toggle=dropdown aria-haspopup=true><span>Support & Trainings</span><span class=caret></span></a><div class=dropdown-menu><a class=dropdown-item href=../../../support-trainings/add-support-trainings/><span>Add your support & trainings</span></a>
<a class=dropdown-item href=../../../support-trainings/cna/><span>Calypso Networks Association</span></a></div></li></ul></div><ul class="nav-icons navbar-nav flex-row ml-auto d-flex pl-md-2"><li class=nav-item><a class="nav-link js-search" href=# aria-label=Search><i class="fas fa-search" aria-hidden=true></i></a></li></ul></div></nav><div class="container-fluid docs"><div class="row flex-xl-nowrap"><div class="col-12 col-md-3 col-xl-2 docs-sidebar"><form class="docs-search d-flex align-items-center"><button class="btn docs-toggle d-md-none p-0 mr-3" type=button data-toggle=collapse data-target=#docs-nav aria-controls=docs-nav aria-expanded=false aria-label="Toggle section navigation">
<span><i class="fas fa-bars"></i></span></button>
<input name=q type=search class=form-control placeholder=Search... autocomplete=off></form><nav class="collapse docs-links" id=docs-nav><ul class="nav docs-sidenav"><li><a href=../../../docs/>Overview</a></li><div class=docs-toc-item><a class=docs-toc-link href=../../../docs/build-your-first-app/><i class="fas fa-rocket pr-1"></i>Build your first app</a><ul class="nav docs-sidenav"><li><a href=../../../docs/build-your-first-app/java-app/>Java</a></li><li><a href=../../../docs/build-your-first-app/android-app/>Android</a></li><li><a href=../../../docs/build-your-first-app/cpp-app/>C++</a></li></ul></div><div class=docs-toc-item><a class=docs-toc-link href=../../../docs/developer-guide/><i class="fas fa-chalkboard-teacher pr-1"></i>Developer guides</a><ul class="nav docs-sidenav"><li><a href=../../../docs/developer-guide/common-concepts/>Common concepts</a></li><li><a href=../../../docs/developer-guide/standalone-application/>Standalone application</a></li><li><a href=../../../docs/developer-guide/distributed-application/>Distributed application</a></li><li><a href=../../../docs/developer-guide/calypso-application/>Calypso application</a></li><li class=active><a href=../../../docs/developer-guide/create-plugin/>Create a plugin</a></li><li><a href=../../../docs/developer-guide/create-extension/>Create an extension</a></li><li><a href=../../../docs/developer-guide/migration-0.8.1-to-0.9.0/>Keyple Java 0.8.1 to 0.9.0</a></li></ul></div><div class=docs-toc-item><a class=docs-toc-link href=../../../docs/api-reference/><i class="fas fa-plug pr-1"></i>API reference</a><ul class="nav docs-sidenav"><li><a href=../../../docs/api-reference/java-api/>Java</a></li><li><a href=../../../docs/api-reference/cpp-api/>C++</a></li></ul></div><div class=docs-toc-item><a class=docs-toc-link href=../../../docs/architecture/><i class="fas fa-sitemap pr-1"></i>Architecture</a><ul class="nav docs-sidenav"><li><a href=../../../docs/architecture/keyple-global/>Keyple Global Solution</a></li><li><a href=../../../docs/architecture/keyple-core/>Keyple Core</a></li><li><a href=../../../docs/architecture/keyple-calypso/>Keyple Calypso</a></li></ul></div></ul></nav></div><div class="d-none d-xl-block col-xl-2 docs-toc"><ul class="nav toc-top"><li><a href=# id=back_to_top class=docs-toc-title>Contents</a></li></ul><nav id=TableOfContents><ul><li><a href=#overview>Overview</a></li><li><a href=#existing-plugins>Existing plugins</a></li><li><a href=#class-diagram-of-plugin-package>Class diagram of plugin package</a></li><li><a href=#steps>Steps</a></li><li><a href=#imports>Imports</a></li><li><a href=#implement-keyple-reader>Implement Keyple Reader</a><ul><li><a href=#implementation-of-abstractlocalreaders-abstract-classes>Implementation of AbstractLocalReader&rsquo;s abstract classes</a></li><li><a href=#implementation-of-abstractobservablelocalreaders-abstract-classes>Implementation of AbstractObservableLocalReader&rsquo;s abstract classes</a></li><li><a href=#implementation-of-abstractobservablelocalautonomousreaders-abstract-classes>Implementation of AbstractObservableLocalAutonomousReader&rsquo;s abstract classes</a></li></ul></li><li><a href=#implement-keyple-plugin>Implement Keyple Plugin</a><ul><li><a href=#implementation-of-abstractplugins-abstract-classes>Implementation of AbstractPlugin&rsquo;s abstract classes</a></li><li><a href=#implementation-of-abstractobservableplugins-abstract-classes>Implementation of AbstractObservablePlugin&rsquo;s abstract classes</a></li><li><a href=#implementation-of-abstractthreadedobservableplugins-abstract-classes>Implementation of AbstractThreadedObservablePlugin&rsquo;s abstract classes</a></li><li><a href=#implementation-of-abstractpluginfactorys-abstract-classes>Implementation of AbstractPluginFactory&rsquo;s abstract classes</a></li></ul></li><li><a href=#examples-of-implementation>Examples of implementation</a><ul><li><a href=#abstractlocalreader>AbstractLocalReader</a></li><li><a href=#abstractobservablelocalreader>AbstractObservableLocalReader</a></li><li><a href=#observablereadernotifiers>ObservableReaderNotifiers</a></li><li><a href=#abstractobservablelocalautonomousreader>AbstractObservableLocalAutonomousReader</a></li><li><a href=#abstractplugin>AbstractPlugin</a></li><li><a href=#abstractthreadedobservableplugin>AbstractThreadedObservablePlugin</a></li><li><a href=#pluginfactory>PluginFactory</a></li></ul></li><li><a href=#sources>Sources</a><ul><li><a href=#keyple-android-nfc>Keyple Android NFC</a></li></ul></li></ul></nav></div><main class="col-12 col-md-9 col-xl-8 py-md-3 pl-md-5 docs-content" role=main><article class=article><div class=docs-article-container><h1>Create a plugin</h1><div class=article-style><h2 id=overview>Overview</h2><p>In order to provide an easy way to port a Keyple application from a device with a specific card reader to another, a plugin system
as been developed. When a developer wants to include Keyple features within his project, he has to initialize the SmartCardService by providing a
plugin Factory available with in the plugin library. The plugin to use depends on the targeted device and running environment.</p><p>For example, for an android device with native NFC we&rsquo;ll use KeypleAndroidNfcPlugin.</p><pre><code class=language-gradle>implementation 'org.eclipse.keyple:keyple-android-plugin-nfc:$keyple_version'
</code></pre><pre><code class=language-kotlin>[kotlin]
SmartCardService.getInstance().registerPlugin(AndroidNfcPluginFactory())
</code></pre><p>Keyple is already provided with various plug-ins ready to use. For example Android NFC or PC/SC reader plugins.</p><p>But users of the Keyple API may need to use it on new hardware not covered with existing plugins. In this case, a new
one must be developed.</p><p>The purpose of this guide is to support developers in this process.</p><h2 id=existing-plugins>Existing plugins</h2><p>The list of reader plugins is maintained on this pages:</p><p><a href=https://keyple.org/components-java/plugins/>Java Reader Plugins</a></p><p><a href=https://keyple.org/components-cpp/plugins/>C++ Reader Plugins</a></p><h2 id=class-diagram-of-plugin-package>Class diagram of plugin package</h2><p>For the record, this is a wide view of classes implied in the plugin system. It is designed to natively handle as much
use cas as possible while being easy to use. It results of several internal classes, however, plugin&rsquo;s developers will
only have to use a few part of these elements.</p><figure><a data-fancybox href=../../../media/plugin-development/class/Plugin_Class_Full.svg><img src=../../../media/plugin-development/class/Plugin_Class_Full.svg alt></a></figure><h2 id=steps>Steps</h2><p>Plugin&rsquo;s development relies on 3 main steps, each one consists in implementing a few set of abstract classes and interfaces of
plugin package from Keyple Core API:</p><ol><li>Import Keyple dependency</li><li>Implement a Keyple Reader</li><li>Implement a Keyple Plugin</li><li>Implement a Keyple Plugin Factory.</li></ol><h2 id=imports>Imports</h2><p>Your plugin will use be based upon Keyple Core library.</p><p>Using the
<a href=https://keyple.org/components-java/core/>Java components</a> or
<a href=https://keyple.org/components-cpp/core/>C++ components</a>
pages, import <strong>Keyple Core</strong> into your project.</p><h2 id=implement-keyple-reader>Implement Keyple Reader</h2><p>The first step of a Keyple plugin development is the implementation of Keyple Reader Interface (org.eclipse.keyple.core.Reader).
This implementation should use device&rsquo;s native smartcard reader library (or sdk package) to map interfaces used by Keyple API.</p><p>This implementation of a local reader must be done through the extension of one of three abstract classes provided within the Keyple API. The choice depends
on expected behaviour of the reader:</p><ul><li><strong><code>AbstractLocalReader</code></strong>: Basic abstract class to use for local reader implementation.</li><li><strong><code>AbstractObservableLocalReader</code></strong>: extends AbstractLocalReader and is used to manage the matter of observing card events in the case of a local reader
(ie: card insertion, card removal..).</li><li><strong><code>AbstractObservableLocalAutonomousReader</code></strong>: extends AbstractObservableLocalReader and is used to allow the reader implementation to
call back the core when card insertion and removal events occurs.</li></ul><figure><a data-fancybox href=../../../media/plugin-development/class/AbstractReaders_Class.svg><img src=../../../media/plugin-development/class/AbstractReaders_Class.svg alt></a></figure><p>Once chosen, the Abstract class must be extended by the new reader class and abstract methods must be implemented. Please refer to your native reader
documentation to implement this elements.</p><h3 id=implementation-of-abstractlocalreaders-abstract-classes>Implementation of AbstractLocalReader&rsquo;s abstract classes</h3><p>Relying on the native smartcard reader of the device, implementations to be done are:</p><div id=plugins-table-1><table><thead><tr><th>Method to implement</th><th>Description</th></tr></thead><tbody><tr><td><strong><code>boolean checkCardPresence()</code></strong></td><td>Verify the presence of the card</td></tr><tr><td><strong><code>byte[] getATR()</code></strong></td><td>provides the information retrieved when powering up the card</td></tr><tr><td><strong><code>openPhysicalChannel()</code></strong></td><td>Attempts to open the physical channel</td></tr><tr><td><strong><code>closePhysicalChannel()</code></strong></td><td>Attempts to close the current physical channel</td></tr><tr><td><strong><code>boolean isPhysicalChannelOpen()</code></strong></td><td>Tells if the physical channel is open or not</td></tr><tr><td><strong><code>boolean isCurrentProtocol(String readerProtocolName)</code></strong></td><td>Tells if the current card communicates with the protocol provided as an argument</td></tr><tr><td><strong><code>byte[] transmitApdu(byte[] apduIn)</code></strong></td><td>Transmits a single APDU and receives its response. Both are in the form of an array of bytes.</td></tr><tr><td><strong><code>activateReaderProtocol(String readerProtocolName)</code></strong></td><td>Activates the protocol provided from the reader&rsquo;s implementation point of view.</td></tr><tr><td><strong><code>deactivateReaderProtocol(String readerProtocolName)</code></strong></td><td>Deactivates the protocol provided from the reader&rsquo;s implementation point of view.</td></tr><tr><td><strong><code>isContactless()</code></strong></td><td>Tells if the current card communication is contactless.</td></tr></tbody></table></div><style>#plugins-table-1 table th:first-of-type{width:450px}</style><p>Example of implementations are provided
<a href=#abstractlocalreader>here</a>.</p><h3 id=implementation-of-abstractobservablelocalreaders-abstract-classes>Implementation of AbstractObservableLocalReader&rsquo;s abstract classes</h3><p>In addition of AbstractLocalReader&rsquo;s methods, specific implementations to be done are:</p><h4 id=methods>Methods</h4><table><thead><tr><th>Method to implement</th><th>Description</th></tr></thead><tbody><tr><td><strong><code>void onStartDetection()</code></strong></td><td>Invoked when the card detection is started by the Keyple Plugin</td></tr><tr><td><strong><code>void onStopDetection()</code></strong></td><td>Invoked when the card detection is stopped by the Keyple Plugin</td></tr><tr><td><strong><code>ReaderObservationExceptionHandler getObservationExceptionHandler()</code></strong></td><td>Allows to invoke the defined handler when an exception condition needs to be transmitted to the application level</td></tr></tbody></table><p>Beside the implementation of this methods, this observable reader&rsquo;s notification behaviour must be set.</p><h4 id=observable-readers-notification>Observable reader&rsquo;s notification</h4><p>Observable reader&rsquo;s notification behaviour is set up by implementing interfaces inheriting from ObservableReaderNotifiers.
Developer has to choose how the reader should behave regarding its native abilities. It may involve a few more methods to implement.</p><figure><a data-fancybox href=../../../media/plugin-development/class/ObservableReaderNotifiers_Interfaces.svg><img src=../../../media/plugin-development/class/ObservableReaderNotifiers_Interfaces.svg alt></a></figure><p>It is <strong>mandatory</strong> to implement one, and only one, interface of each use case presented in the related columns in the below
table.</p><table><thead><tr><th style=text-align:center>Card Insertion</th><th style=text-align:center>Card Removal</th><th style=text-align:center>Card Processing</th></tr></thead><tbody><tr><td style=text-align:center><code>WaitForCardInsertionAutonomous</code></td><td style=text-align:center><code>WaitForCardRemovalAutonomous</code></td><td style=text-align:center><code>WaitForCardRemovalDuringProcessing</code></td></tr><tr><td style=text-align:center><code>WaitForCardInsertionBlocking</code></td><td style=text-align:center><code>WaitForCardRemovalBlocking</code></td><td style=text-align:center><code>DontWaitForCardRemovalDuringProcessing</code></td></tr><tr><td style=text-align:center><code>WaitForCardInsertionNonBlocking</code></td><td style=text-align:center><code>WaitForCardRemovalNonBlocking</code></td><td style=text-align:center>&mdash;</td></tr></tbody></table><p>Description of the Insertion/Removal behaviours:</p><div id=plugins-table-2><table><thead><tr><th>Type</th><th>Description</th></tr></thead><tbody><tr><td><strong><code>[*]Autonomous</code></strong></td><td>Interface to be implemented by readers that have a fully integrated management of card communications for card insertion/removal detection</td></tr><tr><td><strong><code>[*]Blocking</code></strong></td><td>Interface to be implemented by readers that are autonomous in the management of waiting for the insertion/removal of a card and that provide a method to wait for it indefinitely.</td></tr><tr><td><strong><code>[*]Non Blocking</code></strong></td><td>Interface to be implemented by readers that require an active process to detect the card insertion /removal.</td></tr></tbody></table></div><style>#plugins-table-2 table th:first-of-type{width:180px}</style><p>Description of the processing behaviours:</p><div id=plugins-table-3><table><thead><tr><th>Type</th><th>Description</th></tr></thead><tbody><tr><td><strong><code>WaitForCardRemovalDuringProcessing</code></strong></td><td>Interface to be implemented by readers <strong>able</strong> to detect a card <strong>removal</strong> during processing, between two APDU commands.</td></tr><tr><td><strong><code>DontWaitForCardRemovalDuringProcessing</code></strong></td><td>Interface to be implemented by readers <strong>not able</strong> to detect a card <strong>removal</strong> during processing, between two APDU commands.</td></tr></tbody></table></div><style>#plugins-table-3 table th:first-of-type{width:350px}</style><p>Example of implementations are provided
<a href=#abstractobservablelocalreader>here</a>.</p><h3 id=implementation-of-abstractobservablelocalautonomousreaders-abstract-classes>Implementation of AbstractObservableLocalAutonomousReader&rsquo;s abstract classes</h3><p>In addition of AbstractObservableLocalReader&rsquo;s methods and ObservableReaderNotifiers implementation, specific methods invocation must be done:</p><table><thead><tr><th>Method to invoke</th><th>Description</th></tr></thead><tbody><tr><td><strong><code>void onCardInserted()</code></strong></td><td>This method must be invoked when a card is inserted to.</td></tr><tr><td><strong><code>void onCardRemoved()</code></strong></td><td>This method must be invoked when a card is removed.</td></tr></tbody></table><p>Example of implementations are provided
<a href=#abstractobservablelocalautonomousreader>here</a>.</p><h2 id=implement-keyple-plugin>Implement Keyple Plugin</h2><p>The next step of Keyple plugin development is the implementation of Keyple Plugin Interface (org.eclipse.keyple.core.service.Plugin).
The plugin will provide access to the readers and handle their lifecycle.</p><p>As well as Reader&rsquo;s implementation, abstract classes to extend and interfaces to implement will depend on native abilities of the device.</p><p>This implementation of a plugin must be done through the extension of one of three abstract classes provided within the Keyple API.
The choice depends on expected behaviour of the plugin:</p><ul><li><strong><code>AbstractPlugin</code></strong>: Basic class for plugin implementation.</li><li><strong><code>AbstractObservablePlugin</code></strong>: This class provides the means to observe a plugin(insertion/removal of readers).</li><li><strong><code>AbstractThreadedObservablePlugin</code></strong>: This class provides the means to observe a plugin(insertion/removal of readers) using a monitoring thread.</li></ul><figure><a data-fancybox href=../../../media/plugin-development/class/AbstractPlugins_Class.svg><img src=../../../media/plugin-development/class/AbstractPlugins_Class.svg alt></a></figure><h3 id=implementation-of-abstractplugins-abstract-classes>Implementation of AbstractPlugin&rsquo;s abstract classes</h3><h4 id=initnativereaders>initNativeReaders()</h4><table><thead><tr><th>Method to implement</th><th>Description</th></tr></thead><tbody><tr><td><strong><code>ConcurrentMap&lt;String, Reader> initNativeReaders()</code></strong></td><td>This method is invoked when registering a plugin. It should be implemented to init readers map.</td></tr></tbody></table><p>Example of implementations are provided
<a href=#initnativereaders-1>here</a>.</p><h3 id=implementation-of-abstractobservableplugins-abstract-classes>Implementation of AbstractObservablePlugin&rsquo;s abstract classes</h3><p>There is no additional methods to implement compared to AbstractPlugin</p><h3 id=implementation-of-abstractthreadedobservableplugins-abstract-classes>Implementation of AbstractThreadedObservablePlugin&rsquo;s abstract classes</h3><p>In addition of AbstractObservablePlugin&rsquo;s methods and ObservableReaderNotifiers implementation, specific methods invocations must be done:</p><div id=plugins-table-4><table><thead><tr><th>Method to implement</th><th>Description</th></tr></thead><tbody><tr><td><strong><code>SortedSet&lt;String> fetchNativeReadersNames()</code></strong></td><td>This method Fetch the list of connected native reader (usually from third party library) and returns their names (or id)</td></tr><tr><td><strong><code>Reader fetchNativeReader(String name)</code></strong></td><td>Fetch connected native reader (from third party library) by its name returns the current AbstractReader if it is already listed. Creates and returns a new AbstractReader if not.</td></tr></tbody></table></div><style>#plugins-table-4 table th:first-of-type{width:300px}</style><p>Example of implementations are provided
<a href=#abstractthreadedobservableplugin>here</a>.</p><h3 id=implementation-of-abstractpluginfactorys-abstract-classes>Implementation of AbstractPluginFactory&rsquo;s abstract classes</h3><p>The last step is to implement the Plugin factory which is going to be use by Keyple core to handle the plugin.</p><div id=plugins-table-5><table><thead><tr><th>Method to implement</th><th>Description</th></tr></thead><tbody><tr><td><strong><code>String getPluginName()</code></strong></td><td>Retrieve the name of the plugin that will be instantiated by this factory (can be static or dynamic)</td></tr><tr><td><strong><code>Plugin getPlugin()</code></strong></td><td>Retrieve an instance of a plugin (can be a singleton)</td></tr></tbody></table></div><style>#plugins-table-5 table th:first-of-type{width:220px}</style><p>Example of implementations are provided
<a href=#abstractthreadedobservableplugin>here</a>.</p><h2 id=examples-of-implementation>Examples of implementation</h2><h3 id=abstractlocalreader>AbstractLocalReader</h3><h4 id=checkcardpresence>checkCardPresence()</h4><p>Allow Keyple to check if the smartcard is present within the reader (inserted, in NFC field&mldr;)</p><p>OMAPI Example</p><pre><code class=language-kotlin>[kotlin]
//nativeReader is an instance of android.se.omapi.Reader. It natively provides a method to check Card presence.
override fun checkCardPresence(): Boolean {
    return nativeReader.isSecureElementPresent
}
</code></pre><p>Android NFC Example</p><pre><code class=language-kotlin>[kotlin]
//When a SE is presented in the NFC field, we can get a tagproxy object. When the SE is removed, 
//this value is reinited. So when it is not null, we can assume the SE is currently in the field.
//The presence information is not directly available be we can find a way to implement checkCardPresence()
public override fun checkCardPresence(): Boolean {
    return tagProxy != null
}
</code></pre><p>PC/SC Example</p><pre><code class=language-java>[java]
public override fun checkCardPresence(): Boolean {
    //Terminal is an instance of CardTerminal provided by javax.smartcardio
    return terminal.isCardPresent();
}
</code></pre><h4 id=getatr>getAtr()</h4><p>OMAPI Exemple</p><pre><code class=language-kotlin>[kotlin]
override fun getATR(): ByteArray? {
    //Session is a native object of android.se.omapi package
    return session?.let {
        it.atr
    }
}
</code></pre><p>Android NFC Example</p><pre><code class=language-kotlin>[kotlin]
public override fun getATR(): ByteArray? {
    //TagProxy is an object mapping android.nfc.tech.TagTechnology. Atr is obtained from data of this object (depending of protocol)
    val atr = tagProxy?.atr
    return if (atr?.isNotEmpty() == true) atr else null
}
</code></pre><p>PC/SC Example</p><pre><code class=language-java>[java]
public override fun checkCardPresence(): Boolean {
    //Card is an instance of card provided by javax.smartcardio
    return return card.getATR().getBytes();;
}
</code></pre><h4 id=openphysicalchannel>openPhysicalChannel()</h4><p>OMAPI Exemple</p><pre><code class=language-kotlin>[kotlin]
@Throws(KeypleReaderIOException::class)
override fun openPhysicalChannel() {
    try {
        //nativeReader is an instance of import android.se.omapi.Reader
        session = nativeReader.openSession()
    } catch (e: IOException) {
        throw KeypleReaderIOException(&quot;IOException while opening physical channel.&quot;, e)
    }
}
</code></pre><p>Android NFC Example</p><pre><code class=language-kotlin>[kotlin]
@Throws(KeypleReaderIOException::class)
public override fun openPhysicalChannel() {
    //TagProxy is a wrapper we created in the plugin
    //To handle android.nfc.Tag
    if (tagProxy?.isConnected != true) {
        try {
            tagProxy?.connect()
        } catch (e: IOException) {
            throw KeypleReaderIOException(&quot;Error while opening physical channel&quot;, e)
        }
    }
}
</code></pre><p>PC/SC Example</p><pre><code class=language-java>[java]
public void openPhysicalChannel() {
    //card is an instance of Card provided by javax.smartcardio
    if (card == null) {
        this.card = this.terminal.connect(parameterCardProtocol);
        } else {
          logger.debug(&quot;[{}] Opening of a card physical channel in shared mode.&quot;, this.getName());
        }
      }
    //CardChannel is an instance of card provided by javax.smartcardio
    this.channel = card.getBasicChannel();
}
</code></pre><h4 id=closephysicalchannel>closePhysicalChannel()</h4><p>OMAPI Exemple</p><pre><code class=language-kotlin>[kotlin]
override fun closePhysicalChannel() {
    //openChannel is an instance of android.se.omapi.Channel
    openChannel?.let {
        it.session.close()
        openChannel = null
    }
}
</code></pre><p>Android NFC Example</p><pre><code class=language-kotlin>[kotlin]
@Throws(KeypleReaderIOException::class)
public override fun closePhysicalChannel() {
    try {
        //TagProxy is a wrapper we created in the plugin
        //To handle android.nfc.Tag
        tagProxy?.close()
    } catch (e: IOException) {
        throw KeypleReaderIOException(&quot;Error while closing physical channel&quot;, e)
    } finally {
        tagProxy = null
    }
}
</code></pre><p>PC/SC Example</p><pre><code class=language-java>[java]
protected void closePhysicalChannel() {
    try {
     //card is an instance of Card provided by javax.smartcardio
      if (card != null) {
        channel = null;
        card.disconnect(true);
        card = null;
      }
    } catch (CardException e) {
      throw new KeypleReaderIOException(&quot;Error while closing physical channel&quot;, e);
    }
}
</code></pre><h4 id=isphysicalchannelopen>isPhysicalChannelOpen()</h4><p>OMAPI Exemple</p><pre><code class=language-kotlin>[kotlin]
override fun isPhysicalChannelOpen(): Boolean {
    //Session is an instance of android.se.omapi.Session
    return session?.isClosed == false
}
</code></pre><p>Android NFC Example</p><pre><code class=language-kotlin>[kotlin]
public override fun isPhysicalChannelOpen(): Boolean {
    //TagProxy is a wrapper we created in the plugin
    //To handle android.nfc.Tag
    return tagProxy?.isConnected == true
}
</code></pre><p>PC/SC Example</p><pre><code class=language-java>[java]
protected boolean isPhysicalChannelOpen() {
    return card != null;
}
</code></pre><h4 id=transmitapdubyte-apduin>transmitApdu(byte[] apduIn)</h4><p>OMAPI Exemple</p><pre><code class=language-kotlin>[kotlin]
override fun transmitApdu(apduIn: ByteArray): ByteArray {
    // Initialization
    Timber.d(&quot;Data Length to be sent to tag : &quot; + apduIn.size)
    Timber.d(&quot;Data in : &quot; + ByteArrayUtil.toHex(apduIn))
    var dataOut = byteArrayOf(0)
    try {
        openChannel.let {
            dataOut = it?.transmit(apduIn) ?: throw IOException(&quot;Channel is not open&quot;)
        }
    } catch (e: IOException) {
        throw KeypleReaderIOException(&quot;Error while transmitting APDU&quot;, e)
    }

    Timber.d(&quot;Data out : &quot; + ByteArrayUtil.toHex(dataOut))
    return dataOut
}
</code></pre><p>Android NFC Example</p><pre><code class=language-kotlin>[kotlin]
public override fun transmitApdu(apduIn: ByteArray): ByteArray {
    Timber.d(&quot;Send data to card : ${apduIn.size} bytes&quot;)
    return with(tagProxy) {
        if (this == null) {
            throw KeypleReaderIOException(
                    &quot;Error while transmitting APDU, invalid out data buffer&quot;)
        } else {
            try {
                val bytes = transceive(apduIn)
                if (bytes.size &lt;2) {
                    throw KeypleReaderIOException(
                            &quot;Error while transmitting APDU, invalid out data buffer&quot;)
                } else {
                    Timber.d(&quot;Receive data from card : ${ByteArrayUtil.toHex(bytes)}&quot;)
                    bytes
                }
            } catch (e: IOException) {
                throw KeypleReaderIOException(
                        &quot;Error while transmitting APDU, invalid out data buffer&quot;, e)
            } catch (e: NoSuchElementException) {
                throw KeypleReaderIOException(&quot;Error while transmitting APDU, no such Element&quot;, e)
            }
        }
    }
}
</code></pre><p>PC/SC Example</p><pre><code class=language-java>[java]
protected byte[] transmitApdu(byte[] apduIn) {
    ResponseAPDU apduResponseData;
    
    if (channel != null) {
      try {
        apduResponseData = channel.transmit(new CommandAPDU(apduIn));
      } catch (CardException e) {
        throw new KeypleReaderIOException(this.getName() + &quot;:&quot; + e.getMessage());
      } catch (IllegalArgumentException e) {
        // card could have been removed prematurely
        throw new KeypleReaderIOException(this.getName() + &quot;:&quot; + e.getMessage());
      }
    } else {
      // could occur if the card was removed
      throw new KeypleReaderIOException(this.getName() + &quot;: null channel.&quot;);
    }

return apduResponseData.getBytes();
}
</code></pre><h4 id=activatereaderprotocolstring-readerprotocolname>activateReaderProtocol(String readerProtocolName)</h4><p>OMAPI Exemple</p><pre><code class=language-kotlin>[kotlin]
override fun activateReaderProtocol(readerProtocolName: String?) {
    // do nothing as protocol ils not relevant for contact PO
}
</code></pre><p>Android NFC Example</p><pre><code class=language-kotlin>[kotlin]
override fun activateReaderProtocol(readerProtocolName: String?) {

    if (!protocolsMap.containsKey(readerProtocolName)) {
        //we map the requested protocol to a custom android protocol
        protocolsMap.put(readerProtocolName!!, AndroidNfcProtocolSettings.getSetting(readerProtocolName!!)!!)
    }
}
</code></pre><p>PC/SC Example</p><pre><code class=language-java>[java]
protected void activateReaderProtocol(String readerProtocolName) {
if (!PcscProtocolSetting.getSettings().containsKey(readerProtocolName)) {
  throw new KeypleReaderProtocolNotSupportedException(readerProtocolName);
}
}
</code></pre><h4 id=deactivatereaderprotocolstring-readerprotocolname>deactivateReaderProtocol(String readerProtocolName)</h4><p>OMAPI Exemple</p><pre><code class=language-kotlin>[kotlin]
override fun deactivateReaderProtocol(readerProtocolName: String?) {
    // do nothing
}
</code></pre><p>Android NFC Example</p><pre><code class=language-kotlin>[kotlin]
override fun deactivateReaderProtocol(readerProtocolName: String?) {
    if (protocolsMap.containsKey(readerProtocolName)) {
        protocolsMap.remove(readerProtocolName)
    }
    Timber.d(&quot;${getName()}: Deactivate protocol $readerProtocolName.&quot;)
}
</code></pre><p>PC/SC Example</p><pre><code class=language-java>[java]
protected void deactivateReaderProtocol(String readerProtocolName) {
    if (!PcscProtocolSetting.getSettings().containsKey(readerProtocolName)) {
      throw new KeypleReaderProtocolNotSupportedException(readerProtocolName);
    }
    
    if (logger.isDebugEnabled()) {
      logger.debug(&quot;{}: Deactivate protocol {}.&quot;, getName(), readerProtocolName);
    }
}
</code></pre><h4 id=iscurrentprotocolstring-readerprotocolname>isCurrentProtocol(String readerProtocolName)</h4><p>OMAPI Exemple</p><pre><code class=language-kotlin>[kotlin]
override fun isCurrentProtocol(readerProtocolName: String?): Boolean {
    return AndroidOmapiSupportedProtocols.ISO_7816_3.name == readerProtocolName
}
</code></pre><p>Android NFC Example</p><pre><code class=language-kotlin>[kotlin]
override fun isCurrentProtocol(readerProtocolName: String?): Boolean {
    return readerProtocolName == null || protocolsMap.containsKey(readerProtocolName) &amp;&amp; protocolsMap[readerProtocolName] == tagProxy?.tech
}
</code></pre><p>PC/SC Example</p><pre><code class=language-java>[java]
    protected boolean isCurrentProtocol(String readerProtocolName) {
    String protocolRule = PcscProtocolSetting.getSettings().get(readerProtocolName);
    String atr = ByteArrayUtil.toHex(card.getATR().getBytes());
    return Pattern.compile(protocolRule).matcher(atr).matches();
}
</code></pre><h4 id=iscontactless>isContactless()</h4><p>OMAPI Exemple</p><pre><code class=language-kotlin>[kotlin]
override fun isContactless(): Boolean {
    //OMAPI is a contact Reader
    return false
}
</code></pre><p>Android NFC Example</p><pre><code class=language-kotlin>[kotlin]
override fun isContactless(): Boolean {
    //NFC is a contactless Reader
    return true
}
</code></pre><p>PC/SC Example</p><pre><code class=language-java>[java]
public boolean isContactless() {
    //isContactless is a custom variable that can be set by the plugin 
    //as PC/SC can be a contactless or contact reade.
    if (isContactless == null) {
      /* First time initialisation, the transmission mode has not yet been determined or fixed explicitly, let's ask the plugin to determine it (only once) */
      isContactless =
          ((AbstractPcscPlugin) SmartCardService.getInstance().getPlugin(getPluginName()))
              .isContactless(getName());
    }
    return isContactless;
}
</code></pre><h3 id=abstractobservablelocalreader>AbstractObservableLocalReader</h3><h4 id=onstartdetection>onStartDetection()</h4><p>Android NFC Example</p><pre><code class=language-kotlin>[kotlin]
override fun onStartDetection() {
    // When Keyple Core starts detection, we have to use native Android NFC adapter to start nfc scanning
    if (contextWeakRef.get() == null) {
        throw IllegalStateException(&quot;onStartDetection() failed : no context available&quot;)
    }

    if (nfcAdapter == null) {
        nfcAdapter = NfcAdapter.getDefaultAdapter(contextWeakRef.get()!!)
    }
    val flags = flags
    val options = options
    nfcAdapter?.enableReaderMode(contextWeakRef.get(), this, flags, options)
}
</code></pre><p>PC/SC Example</p><pre><code class=language-java>[java]    
protected void onStartDetection() {
    //TODO: completion
}
</code></pre><h4 id=onstopdetection>onStopDetection()</h4><p>Android NFC Example</p><pre><code class=language-kotlin>[kotlin]    
override fun onStopDetection() {
     //When keyple core stop detection, we invoke native adapter stop NFC scanning
     nfcAdapter?.let {
         if (contextWeakRef.get() != null) {
             it.disableReaderMode(contextWeakRef.get())
         } else {
             throw IllegalStateException(&quot;onStopDetection failed : no context available&quot;)
         }
     }
}
</code></pre><p>PC/SC Example</p><pre><code class=language-java>[java]
protected void onStopDetection() {
    //TODO: completion
}
</code></pre><h3 id=observablereadernotifiers>ObservableReaderNotifiers</h3><p>Android NFC Example</p><pre><code class=language-kotlin>[kotlin]
//Note simplified view of Android NFc implementation
class AndroidNfcReader(activity: Activity) :
    //In android NFC, we want an easy way to callback Keyple Core when a card is inserted
    //because this event occurs through the native layer.
    AbstractObservableLocalAutonomousReader( 
        AndroidNfcReader.PLUGIN_NAME,
        AndroidNfcReader.READER_NAME
    ),
    //Our reader have an integrated management of card insertion detection
    WaitForCardInsertionAutonomous,
    //Our reader do not have an integrated management of card removal detection
    //but we can use it when the card is no longer in the field and trigger a removal event
    WaitForCardRemovalBlocking,
    //We do not want to catch card removal between exchanges with it
    DontWaitForCardRemovalDuringProcessing{}
</code></pre><p>PC/SC Example</p><pre><code class=language-java>[java]
 //We want to observe card events like insertion, removal...
class AbstractPcscReader extends bstractObservableLocalReader implements PcscReader, 
    //Our native reader do not have an integrated management of card insertion detection
    //but we can use it when the card is in the field and trigger an insertion event
    WaitForCardInsertionBlocking, 
    //We want to detect when card is removed while exchanging data with our reader
    WaitForCardRemovalDuringProcessing, 
    //Our native reader do not have an integrated management of card removal detection
    //but we can use it when the card is no longer in the field and trigger a removal event
    WaitForCardRemovalBlocking {}
</code></pre><h3 id=abstractobservablelocalautonomousreader>AbstractObservableLocalAutonomousReader</h3><h4 id=oncardinserted>onCardInserted()</h4><p>Android NFC Example</p><pre><code class=language-kotlin>[kotlin]
//Note simplified view of Android NFc implementation
override fun onTagDiscovered(tag: Tag?) {
    tag?.let {
        try {
            tagProxy = TagProxy.getTagProxy(tag)
            //onTagDiscovered is triggered natively
            //we use below code to forward the information to Keyple core
            onCardInserted()
        } catch (e: KeypleReaderException) {
            Timber.e(e)
        }
    }
}
</code></pre><h4 id=oncardremoved>onCardRemoved()</h4><h3 id=abstractplugin>AbstractPlugin</h3><h4 id=initnativereaders-1>initNativeReaders()</h4><p>OMAPI Exemple</p><pre><code class=language-kotlin>[kotlin]
override fun initNativeReaders(): ConcurrentSkipListMap&lt;String, Reader&gt; {
    val readers = ConcurrentSkipListMap&lt;String, Reader&gt;()
    //seService is an instance of android.se.omapi.SEService
    seService?.readers.forEach { nativeReader -&gt;
        //mapToReader creates an instance of our Keyple reader from a native reader
        val reader = mapToReader(nativeReader)
        readers[reader.name] = reader
    }
    return readers
}
</code></pre><p>Android NFC Example</p><pre><code class=language-kotlin>[kotlin]
override fun initNativeReaders(): ConcurrentMap&lt;String, Reader&gt;? {
    val readers = ConcurrentHashMap&lt;String, Reader&gt;()
    //AndroidNfcReaderImpl is our implementation of Keyple reader
    readers[AndroidNfcReader.READER_NAME] = AndroidNfcReaderImpl(activity, readerObservationExceptionHandler)
    return readers
}
</code></pre><p>PC/SC Example</p><pre><code class=language-java>[java]
protected Map&lt;String, Reader&gt; initNativeReaders() {
    ConcurrentMap&lt;String, Reader&gt; nativeReaders = new ConcurrentHashMap&lt;String, Reader&gt;();
    //CardTerminal is a a class from javax.smartcardio
    CardTerminals terminals = getCardTerminals();
    try {
      for (CardTerminal terminal : terminals.list()) {
        final PcscReader pcscReader = createReader(this.getName(), terminal);
        nativeReaders.put(pcscReader.getName(), pcscReader);
      }
    } catch (CardException e) {
    }
    return nativeReaders;
}
</code></pre><h3 id=abstractthreadedobservableplugin>AbstractThreadedObservablePlugin</h3><h4 id=fetchnativereadersnames>fetchNativeReadersNames()</h4><p>PC/SC Example</p><pre><code class=language-kotlin>[kotlin]
public SortedSet&lt;String&gt; fetchNativeReadersNames() {
    SortedSet&lt;String&gt; nativeReadersNames = new ConcurrentSkipListSet&lt;String&gt;();
    CardTerminals terminals = getCardTerminals();
    try {
      for (CardTerminal terminal : terminals.list()) {
        nativeReadersNames.add(terminal.getName());
      }
    } catch (CardException e) {
    }
    return nativeReadersNames;
}
</code></pre><h4 id=fetchnativereader>fetchNativeReader()</h4><p>PC/SC Example</p><pre><code class=language-java>[java]
protected Reader fetchNativeReader(String name) {
    // return the current reader if it is already listed
    Reader reader = readers.get(name);
    if (reader != null) {
      return reader;
    }
    /* parse the current PC/SC readers list to create the ProxyReader(s) associated with new reader(s) */
    CardTerminals terminals = getCardTerminals();
    try {
      for (CardTerminal terminal : terminals.list()) {
        if (terminal.getName().equals(name)) {
          reader = createReader(this.getName(), terminal);
        }
      }
    } catch (CardException e) {
      throw new KeypleReaderIOException(&quot;Could not access terminals list&quot;, e);
    }
    if (reader == null) {
      throw new KeypleReaderNotFoundException(&quot;Reader &quot; + name + &quot; not found!&quot;);
    }
    return reader;
}
</code></pre><h3 id=pluginfactory>PluginFactory</h3><h4 id=getpluginname>getPluginName()</h4><p>Android NFC Example</p><pre><code class=language-kotlin>[kotlin]
override fun getPluginName(): String {
    return AndroidNfcPlugin.PLUGIN_NAME
}
</code></pre><p>PC/SC Example</p><pre><code class=language-java>[java]
public String getPluginName() {
    return PLUGIN_NAME;
}
</code></pre><h4 id=getplugin>getPlugin()</h4><p>Android NFC Example</p><pre><code class=language-kotlin>[kotlin]
override fun getPlugin(): Plugin {
    return AndroidNfcPluginImpl(activity, readerObservationExceptionHandler)
}
</code></pre><p>PC/SC Example</p><pre><code class=language-java>[java]
public PcscPlugin getPlugin() {
    try {
      if (isOsWin) {
        return PcscPluginWinImpl.getInstance();
      } else {
        return PcscPluginImpl.getInstance();
      }
    } catch (Exception e) {
      throw new KeyplePluginInstantiationException(&quot;Can not access smartcard.io readers&quot;, e);
    }
}
</code></pre><h2 id=sources>Sources</h2><h3 id=keyple-android-nfc>Keyple Android NFC</h3><ul><li><a href=https://github.com/eclipse/keyple-java/tree/master/android/keyple-plugin/android-nfc target=_blank rel=noopener>Plugin</a></li><li><a href=https://github.com/eclipse/keyple-java/tree/master/java/example/calypso/android/nfc target=_blank rel=noopener>Example App</a></li></ul><h4 id=keyple-android-omapi>Keyple Android OMAPI</h4><ul><li><a href=https://github.com/eclipse/keyple-java/tree/master/android/keyple-plugin/android-omapi target=_blank rel=noopener>Plugin</a></li><li><a href=https://github.com/eclipse/keyple-java/tree/master/java/example/calypso/android/omapi target=_blank rel=noopener>Example App</a></li></ul><h4 id=pcsc>PC/SC</h4><ul><li><a href=https://github.com/eclipse/keyple-java/tree/master/java/component/keyple-plugin/pcsc target=_blank rel=noopener>Plugin</a></li><li><a href=https://github.com/eclipse/keyple-java/tree/master/java/example/calypso/pc target=_blank rel=noopener>Example Apps</a></li></ul></div><div class=article-widget><div class=post-nav><div class=post-nav-item><div class=meta-nav>Previous</div><a href=../../../docs/developer-guide/calypso-application/ rel=next>Calypso application</a></div><div class=post-nav-item><div class=meta-nav>Next</div><a href=../../../docs/developer-guide/create-extension/ rel=prev>Create an extension</a></div></div></div></div><div class=body-footer><p>Last updated on Thu, Dec 17, 2020</p></div></article><footer class=site-footer><div class=container><div class="row featurette"><div class="col-12 col-sm-4"><h4>More</h4><ul><li><a href=https://github.com/eclipse/keyple title="View Source Code on GitHub"><i class="fab fa-github"></i>GitHub Repository</a></li><li><a href=https://accounts.eclipse.org/mailing-list/keyple-dev title="Keyple information and discussions"><i class="fas fa-envelope"></i>Mailing list</a></li><li><a href=https://projects.eclipse.org/projects/iot.keyple title=https://projects.eclipse.org/projects/iot.keyple><i class="fas fa-globe"></i>Keyple's project page</a></li></ul></div><div class="col-12 col-sm-4"><h4>Eclipse Foundation</h4><ul><li><a href=https://www.eclipse.org/org/>About Eclipse Foundation</a></li><li><a href=https://www.eclipse.org/org/foundation/contact.php>Contact Eclipse Foundation</a></li><li><a href=https://www.eclipse.org/donate>Donate</a></li><li><a href=https://www.eclipse.org/membership>Members</a></li><li><a href=https://www.eclipse.org/org/documents/>Governance</a></li><li><a href=https://www.eclipse.org/org/documents/Community_Code_of_Conduct.php>Code of Conduct</a></li><li><a href=https://www.eclipse.org/artwork/>Logo and Artwork</a></li><li><a href=https://www.eclipse.org/org/foundation/directors.php></a></li></ul></div><div class="col-12 col-sm-4"><h4>Legal</h4><ul><li><a href=https://www.eclipse.org/legal/privacy.php>Privacy Policy</a></li><li><a href=https://www.eclipse.org/legal/termsofuse.php>Terms of Use</a></li><li><a href=https://www.eclipse.org/legal/copyright.php>Copyright Agent</a></li><li><a href=https://www.eclipse.org/legal/epl-2.0/>Eclipse Public License</a></li><li><a href=https://www.eclipse.org/legal/>Legal Resources</a></li><li><a href=https://eclipse.org/security/ target=_blank>Report a Vulnerability</a></li></ul></section></div></div><p class=powered-by>Copyright © Eclipse Foundation, Inc. All Rights Reserved.</p><p class=powered-by>Powered by the
<a href=https://wowchemy.com/ target=_blank rel=noopener>Wowchemy theme</a>
for
<a href=https://gohugo.io target=_blank rel=noopener>Hugo</a>.
<span class=float-right aria-hidden=true><a href=# class=back-to-top><span class=button_icon><i class="fas fa-chevron-up fa-2x"></i></span></a></span></p></footer></main></div></div><script src=https://cdnjs.cloudflare.com/ajax/libs/jquery/3.5.1/jquery.min.js integrity="sha256-9/aliU8dGd2tb6OSsuzixeV4y/faTqgFtohetphbbj0=" crossorigin=anonymous></script><script src=https://cdnjs.cloudflare.com/ajax/libs/jquery.imagesloaded/4.1.4/imagesloaded.pkgd.min.js integrity="sha256-lqvxZrPLtfffUl2G/e7szqSvPBILGbwmsGE1MKlOi0Q=" crossorigin=anonymous></script><script src=https://cdnjs.cloudflare.com/ajax/libs/jquery.isotope/3.0.6/isotope.pkgd.min.js integrity="sha256-CBrpuqrMhXwcLLUd5tvQ4euBHCdh7wGlDfNz8vbu/iI=" crossorigin=anonymous></script><script src=https://cdnjs.cloudflare.com/ajax/libs/fancybox/3.5.7/jquery.fancybox.min.js integrity="sha256-yt2kYMy0w8AbtF89WXb2P1rfjcP/HTHLT7097U8Y5b8=" crossorigin=anonymous></script><script src=https://cdnjs.cloudflare.com/ajax/libs/instant.page/5.1.0/instantpage.min.js integrity="sha512-1+qUtKoh9XZW7j+6LhRMAyOrgSQKenQ4mluTR+cvxXjP1Z54RxZuzstR/H9kgPXQsVB8IW7DMDFUJpzLjvhGSQ==" crossorigin=anonymous></script><script src=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.1.2/highlight.min.js integrity="sha512-7t8APmYpzEsZP7CYoA7RfMPV9Bb+PJHa9x2WiUnDXZx3XHveuyWUtvNOexhkierl5flZ3tr92dP1mMS+SGlD+A==" crossorigin=anonymous></script><script src=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.1.2/languages/java.min.js></script><script src=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.1.2/languages/kotlin.min.js></script><script src=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.1.2/languages/cpp.min.js></script><script src=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.1.2/languages/gradle.min.js></script><script>const code_highlighting=true;</script><script>const search_config={"indexURI":"/index.json","minLength":1,"threshold":0.3};const i18n={"no_results":"No results found","placeholder":"Search...","results":"results found"};const content_type={'post':"Posts",'project':"Projects",'publication':"Publications",'talk':"Talks",'slides':"Slides"};</script><script src=https://cdnjs.cloudflare.com/ajax/libs/anchor-js/4.1.1/anchor.min.js integrity="sha256-pB/deHc9CGfFpJRjC43imB29Rse8tak+5eXqntO94ck=" crossorigin=anonymous></script><script>anchors.add();</script><script id=search-hit-fuse-template type=text/x-template>
      <div class="search-hit" id="summary-{{key}}">
      <div class="search-hit-content">
        <div class="search-hit-name">
          <a href="{{relpermalink}}">{{title}}</a>
          <div class="article-metadata search-hit-type">{{type}}</div>
          <p class="search-hit-description">{{snippet}}</p>
        </div>
      </div>
      </div>
    </script><script src=https://cdnjs.cloudflare.com/ajax/libs/fuse.js/3.2.1/fuse.min.js integrity="sha256-VzgmKYmhsGNNN4Ph1kMW+BjoYJM2jV5i4IlFoeZA9XI=" crossorigin=anonymous></script><script src=https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/jquery.mark.min.js integrity="sha256-4HLtjeVgH0eIB3aZ9mLYF6E8oU5chNdjU6p6rrXpl9U=" crossorigin=anonymous></script><script src=../../../js/academic.min.685aa588f098e3a2bb14612211c3de9e.js></script><div id=modal class="modal fade" role=dialog><div class=modal-dialog><div class=modal-content><div class=modal-header><h5 class=modal-title>Cite</h5><button type=button class=close data-dismiss=modal aria-label=Close>
<span aria-hidden=true>&#215;</span></button></div><div class=modal-body><pre><code class="tex hljs"></code></pre></div><div class=modal-footer><a class="btn btn-outline-primary my-1 js-copy-cite" href=# target=_blank><i class="fas fa-copy"></i>Copy</a>
<a class="btn btn-outline-primary my-1 js-download-cite" href=# target=_blank><i class="fas fa-download"></i>Download</a><div id=modal-error></div></div></div></div></div></body></html>