<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="1747px" preserveAspectRatio="none" style="width:1299px;height:1747px;" version="1.1" viewBox="0 0 1299 1747" width="1299px" zoomAndPan="magnify"><defs/><g><!--MD5=[c3c915b379c717332e210d38dcd6e8a2]
cluster org.eclipse.keyple.core--><polygon fill="#FFFFFF" points="22,24,193,24,200,47.6094,1277,47.6094,1277,1735,22,1735,22,24" style="stroke: #000000; stroke-width: 1.5;"/><line style="stroke: #000000; stroke-width: 1.5;" x1="22" x2="200" y1="47.6094" y2="47.6094"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="165" x="26" y="40.5332">org.eclipse.keyple.core</text><!--MD5=[5a3d2abf109d9ee3e5aa1fa7d87bd15e]
cluster reader_even--><polygon fill="#FFFFFF" points="182,68,241,68,248,91.6094,1138,91.6094,1138,265,182,265,182,68" style="stroke: #000000; stroke-width: 1.5;"/><line style="stroke: #000000; stroke-width: 1.5;" x1="182" x2="248" y1="91.6094" y2="91.6094"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="53" x="186" y="84.5332">service</text><!--MD5=[2e31800f208179cab94650aeb782e4d8]
cluster event--><polygon fill="#FFFFFF" points="577,116.5,624,116.5,631,140.1094,1114,140.1094,1114,216.5,577,216.5,577,116.5" style="stroke: #000000; stroke-width: 1.5;"/><line style="stroke: #000000; stroke-width: 1.5;" x1="577" x2="631" y1="140.1094" y2="140.1094"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="41" x="581" y="133.0332">event</text><!--MD5=[97169c8f85b66adbe4af788cf429eaba]
cluster card.selection--><polygon fill="#FFFFFF" points="131,315,237,315,244,338.6094,1253,338.6094,1253,1711,131,1711,131,315" style="stroke: #000000; stroke-width: 1.5;"/><line style="stroke: #000000; stroke-width: 1.5;" x1="131" x2="244" y1="338.6094" y2="338.6094"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="100" x="135" y="331.5332">card.selection</text><!--MD5=[e86a4777f2c0372cf9fb3cd047e1466e]
class Reader--><rect fill="#FEFECE" height="144.8516" id="Reader" style="stroke: #D4AC0D; stroke-width: 1.5;" width="360" x="198" y="104"/><ellipse cx="347.75" cy="120" fill="#B4A7E5" rx="11" ry="11" style="stroke: #B4A7E5; stroke-width: 1.0;"/><path d="M348.75,117 L348.75,123 L350.75,123 L351.2344,123 L351.75,123.625 L351.75,124 L351.75,124.375 L351.2344,125 L350.75,125 L344.75,125 L344.2656,125 L343.75,124.375 L343.75,124 L343.75,123.625 L344.2656,123 L344.75,123 L346.75,123 L346.75,117 L344.75,117 L344.2656,117 L343.75,116.375 L343.75,116 L343.75,115.625 L344.2656,115 L344.75,115 L350.75,115 L351.2344,115 L351.75,115.625 L351.75,116 L351.75,116.375 L351.2344,117 L350.75,117 L348.75,117 Z "/><ellipse cx="373.25" cy="119.5" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="41" x="379.25" y="124.9102">Reader</text><line style="stroke: #D4AC0D; stroke-width: 1.5;" x1="199" x2="557" y1="136" y2="136"/><line style="stroke: #D4AC0D; stroke-width: 1.5;" x1="199" x2="557" y1="144" y2="144"/><ellipse cx="209" cy="155" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="81" x="218" y="159.4189">String getName()</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="0" x="221" y="173.2549"/><ellipse cx="209" cy="182.6719" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="117" x="218" y="187.0908">boolean isCardPresent()</text><ellipse cx="209" cy="196.5078" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="178" x="218" y="200.9268">boolean isContactlessTransmission()</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="0" x="221" y="214.7627"/><ellipse cx="209" cy="224.1797" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="334" x="218" y="228.5986">activateProtocol(String applicationReference, String pluginReference)</text><ellipse cx="209" cy="238.0156" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="230" x="218" y="242.4346">deactivateProtocol(String applicationReference)</text><!--MD5=[cfa5e1a9c30861ac5ad043f1201ace69]
class AbstractDefaultSelectionsRequest--><rect fill="#FEFECE" height="48" id="AbstractDefaultSelectionsRequest" style="stroke: #D4AC0D; stroke-width: 1.5;" width="230" x="868" y="152.5"/><ellipse cx="883" cy="168.5" fill="#A9DCDF" rx="11" ry="11" style="stroke: #A9DCDF; stroke-width: 1.0;"/><path d="M884.75,170 L881.4531,170 L881.0156,171 L881.0156,171 L881.4844,171 L882,171.625 L882,172 L882,172.375 L881.4844,173 L881.0156,173 L879.125,173 L878.5156,173 L878,172.375 L878,172 L878,171.625 L878.5156,171 L879.125,171 L881.4375,165 L880.5625,165 L879.5156,165 L879,164.375 L879,164 L879,163.625 L879.5156,163 L880.5625,163 L884.2344,163 L886.9219,171 L887.4844,171 L887.4844,171 L888,171.625 L888,172 L888,172.375 L887.4844,173 L886.9219,173 L885.0313,173 L884.5156,173 L884,172.375 L884,172 L884,171.625 L884.5156,171 L885.0313,171 L885.0313,171 L884.75,170 Z M884.2031,168 L883,164.4219 L881.9688,168 L884.2031,168 Z "/><ellipse cx="902" cy="168" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="187" x="908" y="173.4102">AbstractDefaultSelectionsRequest</text><line style="stroke: #D4AC0D; stroke-width: 1.5;" x1="869" x2="1097" y1="184.5" y2="184.5"/><line style="stroke: #D4AC0D; stroke-width: 1.5;" x1="869" x2="1097" y1="192.5" y2="192.5"/><!--MD5=[8f41c7e8d8e3ce316d782de639711bb6]
class AbstractDefaultSelectionsResponse--><rect fill="#FEFECE" height="48" id="AbstractDefaultSelectionsResponse" style="stroke: #D4AC0D; stroke-width: 1.5;" width="240" x="593" y="152.5"/><ellipse cx="608" cy="168.5" fill="#A9DCDF" rx="11" ry="11" style="stroke: #A9DCDF; stroke-width: 1.0;"/><path d="M609.75,170 L606.4531,170 L606.0156,171 L606.0156,171 L606.4844,171 L607,171.625 L607,172 L607,172.375 L606.4844,173 L606.0156,173 L604.125,173 L603.5156,173 L603,172.375 L603,172 L603,171.625 L603.5156,171 L604.125,171 L606.4375,165 L605.5625,165 L604.5156,165 L604,164.375 L604,164 L604,163.625 L604.5156,163 L605.5625,163 L609.2344,163 L611.9219,171 L612.4844,171 L612.4844,171 L613,171.625 L613,172 L613,172.375 L612.4844,173 L611.9219,173 L610.0313,173 L609.5156,173 L609,172.375 L609,172 L609,171.625 L609.5156,171 L610.0313,171 L610.0313,171 L609.75,170 Z M609.2031,168 L608,164.4219 L606.9688,168 L609.2031,168 Z "/><ellipse cx="627" cy="168" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="197" x="633" y="173.4102">AbstractDefaultSelectionsResponse</text><line style="stroke: #D4AC0D; stroke-width: 1.5;" x1="594" x2="832" y1="184.5" y2="184.5"/><line style="stroke: #D4AC0D; stroke-width: 1.5;" x1="594" x2="832" y1="192.5" y2="192.5"/><!--MD5=[fb0847b56e90874d02378ad5165e20f2]
class CardSelectionsService--><rect fill="#FEFECE" height="186.3594" id="CardSelectionsService" style="stroke: #D4AC0D; stroke-width: 1.5;" width="395" x="592.5" y="351"/><ellipse cx="704.25" cy="367" fill="#ADD1B2" rx="11" ry="11" style="stroke: #ADD1B2; stroke-width: 1.0;"/><path d="M706.25,363.5 Q706.4531,363 706.6875,362.75 Q706.9219,362.5 707.1875,362.5 Q707.6563,362.5 707.9531,362.7813 Q708.25,363.0625 708.25,363.7188 L708.25,365.2813 Q708.25,365.9375 707.9688,366.2188 Q707.6875,366.5 707.25,366.5 Q706.8594,366.5 706.6094,366.3281 Q706.3594,366.1563 706.25,365.7031 Q706.2031,365.3906 706.0313,365.2188 Q705.7188,364.8906 705.1563,364.7031 Q704.5938,364.5 704.0313,364.5 Q703.3281,364.5 702.7344,364.7813 Q702.1563,365.0625 701.7031,365.6875 Q701.25,366.3125 701.25,367.1719 L701.25,368.0938 Q701.25,369.125 702.0938,369.8125 Q702.9375,370.5 704.4375,370.5 Q705.3281,370.5 705.9531,370.2969 Q706.3125,370.1875 706.7188,369.8281 Q706.9844,369.625 707.125,369.5625 Q707.2656,369.5 707.4375,369.5 Q707.7656,369.5 708,369.7656 Q708.25,370.0156 708.25,370.375 Q708.25,370.7188 707.9063,371.125 Q707.4063,371.7188 706.6094,372.0469 Q705.5625,372.5 704.2813,372.5 Q702.7813,372.5 701.5781,371.9063 Q700.6094,371.4375 699.9219,370.4219 Q699.25,369.4063 699.25,368.2031 L699.25,367.1094 Q699.25,365.8594 699.8438,364.7656 Q700.4531,363.6719 701.5,363.0938 Q702.5625,362.5 703.75,362.5 Q704.4688,362.5 705.0938,362.75 Q705.7188,363 706.25,363.5 Z "/><ellipse cx="729.75" cy="366.5" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="12" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="24" x="735.75" y="371.9102">final</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="125" x="762.75" y="371.9102">CardSelectionsService</text><line style="stroke: #D4AC0D; stroke-width: 1.5;" x1="593.5" x2="986.5" y1="383" y2="383"/><line style="stroke: #D4AC0D; stroke-width: 1.5;" x1="593.5" x2="986.5" y1="391" y2="391"/><ellipse cx="603.5" cy="402" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="369" x="612.5" y="406.4189">CardSelectionsService(MultiSelectionProcessing multiMode = FIRST_MATCH)</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="0" x="615.5" y="420.2549"/><ellipse cx="603.5" cy="429.6719" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="282" x="612.5" y="434.0908">int prepareSelection(AbstractCardSelection cardSelection)</text><ellipse cx="603.5" cy="443.5078" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="23" x="612.5" y="447.9268">final</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="147" x="638.5" y="447.9268">prepareReleaseCardChannel()</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="0" x="615.5" y="461.7627"/><ellipse cx="603.5" cy="471.1797" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="307" x="612.5" y="475.5986">CardSelectionsResult processExplicitSelections(Reader reader)</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="0" x="615.5" y="489.4346"/><ellipse cx="603.5" cy="498.8516" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="316" x="612.5" y="503.2705">AbstractDefaultSelectionsRequest getDefaultSelectionsRequest()</text><ellipse cx="603.5" cy="512.6875" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="283" x="612.5" y="517.1064">CardSelectionsResult processDefaultSelectionsResponse(</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="274" x="612.5" y="530.9424">AbstractDefaultSelectionsResponse selectionResponse)</text><!--MD5=[96703f6554e1741f1cdd647299667117]
class MultiSelectionProcessing--><rect fill="#FEFECE" height="75.6719" id="MultiSelectionProcessing" style="stroke: #D4AC0D; stroke-width: 1.5;" width="182" x="1055" y="406"/><ellipse cx="1070" cy="422" fill="#EB937F" rx="11" ry="11" style="stroke: #EB93DF; stroke-width: 1.0;"/><path d="M1068.5,423 L1068.5,425 L1072.5,425 L1072.5,424 L1072.5,423.5156 L1073.125,423 L1073.5,423 L1073.875,423 L1074.5,423.5156 L1074.5,424 L1074.5,427 L1066.5,427 L1066.0156,427 L1065.5,426.375 L1065.5,426 L1065.5,425.625 L1066.0156,425 L1066.5,425 L1066.5,425 L1066.5,419 L1066.5,419 L1066.0156,419 L1065.5,418.375 L1065.5,418 L1065.5,417.625 L1066.0156,417 L1066.5,417 L1074.5,417 L1074.5,420 L1074.5,420.4844 L1073.875,421 L1073.5,421 L1073.125,421 L1072.5,420.4844 L1072.5,420 L1072.5,419 L1068.5,419 L1068.5,421 L1069.5,421 L1069.5,420.5156 L1069.5,420.5156 L1070.125,420 L1070.5,420 L1070.875,420 L1071.5,420.5156 L1071.5,421 L1071.5,423 L1071.5,423.4844 L1070.875,424 L1070.875,424 L1070.5,424 L1070.125,424 L1069.5,423.4844 L1069.5,423.4844 L1069.5,423 L1068.5,423 Z "/><ellipse cx="1089" cy="421.5" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="139" x="1095" y="426.9102">MultiSelectionProcessing</text><line style="stroke: #D4AC0D; stroke-width: 1.5;" x1="1056" x2="1236" y1="438" y2="438"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="70" x="1061" y="453.4189">FIRST_MATCH</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="74" x="1061" y="467.2549">PROCESS_ALL</text><line style="stroke: #D4AC0D; stroke-width: 1.5;" x1="1056" x2="1236" y1="473.6719" y2="473.6719"/><!--MD5=[22cdb46c7fe3b6ab653a691199cf9051]
class AbstractCardSelection--><rect fill="#FEFECE" height="144.8516" id="AbstractCardSelection" style="stroke: #D4AC0D; stroke-width: 1.5;" width="332" x="905" y="598"/><ellipse cx="999.75" cy="614" fill="#A9DCDF" rx="11" ry="11" style="stroke: #A9DCDF; stroke-width: 1.0;"/><path d="M1001.5,615.5 L998.2031,615.5 L997.7656,616.5 L997.7656,616.5 L998.2344,616.5 L998.75,617.125 L998.75,617.5 L998.75,617.875 L998.2344,618.5 L997.7656,618.5 L995.875,618.5 L995.2656,618.5 L994.75,617.875 L994.75,617.5 L994.75,617.125 L995.2656,616.5 L995.875,616.5 L998.1875,610.5 L997.3125,610.5 L996.2656,610.5 L995.75,609.875 L995.75,609.5 L995.75,609.125 L996.2656,608.5 L997.3125,608.5 L1000.9844,608.5 L1003.6719,616.5 L1004.2344,616.5 L1004.2344,616.5 L1004.75,617.125 L1004.75,617.5 L1004.75,617.875 L1004.2344,618.5 L1003.6719,618.5 L1001.7813,618.5 L1001.2656,618.5 L1000.75,617.875 L1000.75,617.5 L1000.75,617.125 L1001.2656,616.5 L1001.7813,616.5 L1001.7813,616.5 L1001.5,615.5 Z M1000.9531,613.5 L999.75,609.9219 L998.7188,613.5 L1000.9531,613.5 Z "/><ellipse cx="1025.25" cy="613.5" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="123" x="1031.25" y="618.9102">AbstractCardSelection</text><line style="stroke: #D4AC0D; stroke-width: 1.5;" x1="906" x2="1236" y1="630" y2="630"/><line style="stroke: #D4AC0D; stroke-width: 1.5;" x1="906" x2="1236" y1="638" y2="638"/><ellipse cx="916" cy="649" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="222" x="925" y="653.4189">AbstractCardSelection(CardSelector selector)</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="0" x="928" y="667.2549"/><polygon fill="#FFFF44" points="916,671.6719,920,675.6719,916,679.6719,912,675.6719" style="stroke: #B38D22; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="23" x="925" y="681.0908">final</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="225" x="951" y="681.0908">addApduRequest(ApduRequest apduRequest)</text><polygon fill="#4177AF" points="916,686.5078,912,692.5078,920,692.5078" style="stroke: #1963A0; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="23" x="925" y="694.9268">final</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="240" x="951" y="694.9268">CardSelectionRequest getCardSelectionRequest()</text><polygon fill="#FFFF44" points="916,699.3438,920,703.3438,916,707.3438,912,703.3438" style="stroke: #B38D22; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="306" x="925" y="708.7627">AbstractSmartCard parse(CardResponse selectionResponse)</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="0" x="928" y="722.5986"/><ellipse cx="916" cy="732.0156" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="152" x="925" y="736.4346">CardSelector getCardSelector()</text><!--MD5=[76ebe7b74ec75e348fd93ad9fc9a7513]
class AbstractSmartCard--><rect fill="#FEFECE" height="131.0156" id="AbstractSmartCard" style="stroke: #D4AC0D; stroke-width: 1.5;" width="315" x="498.5" y="605"/><ellipse cx="593.75" cy="621" fill="#A9DCDF" rx="11" ry="11" style="stroke: #A9DCDF; stroke-width: 1.0;"/><path d="M595.5,622.5 L592.2031,622.5 L591.7656,623.5 L591.7656,623.5 L592.2344,623.5 L592.75,624.125 L592.75,624.5 L592.75,624.875 L592.2344,625.5 L591.7656,625.5 L589.875,625.5 L589.2656,625.5 L588.75,624.875 L588.75,624.5 L588.75,624.125 L589.2656,623.5 L589.875,623.5 L592.1875,617.5 L591.3125,617.5 L590.2656,617.5 L589.75,616.875 L589.75,616.5 L589.75,616.125 L590.2656,615.5 L591.3125,615.5 L594.9844,615.5 L597.6719,623.5 L598.2344,623.5 L598.2344,623.5 L598.75,624.125 L598.75,624.5 L598.75,624.875 L598.2344,625.5 L597.6719,625.5 L595.7813,625.5 L595.2656,625.5 L594.75,624.875 L594.75,624.5 L594.75,624.125 L595.2656,623.5 L595.7813,623.5 L595.7813,623.5 L595.5,622.5 Z M594.9531,620.5 L593.75,616.9219 L592.7188,620.5 L594.9531,620.5 Z "/><ellipse cx="619.25" cy="620.5" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="105" x="625.25" y="625.9102">AbstractSmartCard</text><line style="stroke: #D4AC0D; stroke-width: 1.5;" x1="499.5" x2="812.5" y1="637" y2="637"/><line style="stroke: #D4AC0D; stroke-width: 1.5;" x1="499.5" x2="812.5" y1="645" y2="645"/><polygon fill="#FFFF44" points="509.5,651,513.5,655,509.5,659,505.5,655" style="stroke: #B38D22; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="289" x="518.5" y="660.4189">AbstractSmartCard(SelectionResponse selectionResponse)</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="0" x="521.5" y="674.2549"/><ellipse cx="509.5" cy="683.6719" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="82" x="518.5" y="688.0908">boolean hasAtr()</text><ellipse cx="509.5" cy="697.5078" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="96" x="518.5" y="701.9268">byte[] getAtrBytes()</text><ellipse cx="509.5" cy="711.3438" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="81" x="518.5" y="715.7627">boolean hasFci()</text><ellipse cx="509.5" cy="725.1797" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="95" x="518.5" y="729.5986">byte[] getFciBytes()</text><!--MD5=[429236f5a1d05c7a5d443f29aac38d35]
class CardSelectionsResult--><rect fill="#FEFECE" height="186.3594" id="CardSelectionsResult" style="stroke: #D4AC0D; stroke-width: 1.5;" width="359" x="198.5" y="351"/><ellipse cx="294.25" cy="367" fill="#ADD1B2" rx="11" ry="11" style="stroke: #ADD1B2; stroke-width: 1.0;"/><path d="M296.25,363.5 Q296.4531,363 296.6875,362.75 Q296.9219,362.5 297.1875,362.5 Q297.6563,362.5 297.9531,362.7813 Q298.25,363.0625 298.25,363.7188 L298.25,365.2813 Q298.25,365.9375 297.9688,366.2188 Q297.6875,366.5 297.25,366.5 Q296.8594,366.5 296.6094,366.3281 Q296.3594,366.1563 296.25,365.7031 Q296.2031,365.3906 296.0313,365.2188 Q295.7188,364.8906 295.1563,364.7031 Q294.5938,364.5 294.0313,364.5 Q293.3281,364.5 292.7344,364.7813 Q292.1563,365.0625 291.7031,365.6875 Q291.25,366.3125 291.25,367.1719 L291.25,368.0938 Q291.25,369.125 292.0938,369.8125 Q292.9375,370.5 294.4375,370.5 Q295.3281,370.5 295.9531,370.2969 Q296.3125,370.1875 296.7188,369.8281 Q296.9844,369.625 297.125,369.5625 Q297.2656,369.5 297.4375,369.5 Q297.7656,369.5 298,369.7656 Q298.25,370.0156 298.25,370.375 Q298.25,370.7188 297.9063,371.125 Q297.4063,371.7188 296.6094,372.0469 Q295.5625,372.5 294.2813,372.5 Q292.7813,372.5 291.5781,371.9063 Q290.6094,371.4375 289.9219,370.4219 Q289.25,369.4063 289.25,368.2031 L289.25,367.1094 Q289.25,365.8594 289.8438,364.7656 Q290.4531,363.6719 291.5,363.0938 Q292.5625,362.5 293.75,362.5 Q294.4688,362.5 295.0938,362.75 Q295.7188,363 296.25,363.5 Z "/><ellipse cx="319.75" cy="366.5" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="12" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="24" x="325.75" y="371.9102">final</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="121" x="352.75" y="371.9102">CardSelectionsResult</text><line style="stroke: #D4AC0D; stroke-width: 1.5;" x1="199.5" x2="556.5" y1="383" y2="383"/><line style="stroke: #D4AC0D; stroke-width: 1.5;" x1="199.5" x2="556.5" y1="391" y2="391"/><polygon fill="#4177AF" points="209.5,398,205.5,404,213.5,404" style="stroke: #1963A0; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="111" x="218.5" y="406.4189">CardSelectionsResult()</text><polygon fill="#4177AF" points="209.5,411.8359,205.5,417.8359,213.5,417.8359" style="stroke: #1963A0; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="333" x="218.5" y="420.2549">addMatchingCard(int selectionIndex, AbstractSmartCard matchingSe)</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="0" x="221.5" y="434.0908"/><ellipse cx="209.5" cy="443.5078" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="142" x="218.5" y="447.9268">boolean hasActiveSelection()</text><ellipse cx="209.5" cy="457.3438" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="201" x="218.5" y="461.7627">AbstractSmartCard getActiveSmartCard()</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="0" x="221.5" y="475.5986"/><ellipse cx="209.5" cy="485.0156" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="138" x="218.5" y="489.4346">int getActiveSelectionIndex()</text><ellipse cx="209.5" cy="498.8516" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="235" x="218.5" y="503.2705">boolean hasSelectionMatched(int selectionIndex)</text><ellipse cx="209.5" cy="512.6875" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="268" x="218.5" y="517.1064">AbstractSmartCard getMatchingCard(int selectionIndex)</text><ellipse cx="209.5" cy="526.5234" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="283" x="218.5" y="530.9424">Map&lt;Integer, AbstractSmartCard&gt; getMatchingSelections()</text><!--MD5=[68d93de5d5ca3fa8853616903ee370e6]
class CardResource_T--><rect fill="#FEFECE" height="89.5078" id="CardResource_T" style="stroke: #D4AC0D; stroke-width: 1.5;" width="316" x="147" y="625.5"/><ellipse cx="162" cy="641.5" fill="#ADD1B2" rx="11" ry="11" style="stroke: #ADD1B2; stroke-width: 1.0;"/><path d="M164,638 Q164.2031,637.5 164.4375,637.25 Q164.6719,637 164.9375,637 Q165.4063,637 165.7031,637.2813 Q166,637.5625 166,638.2188 L166,639.7813 Q166,640.4375 165.7188,640.7188 Q165.4375,641 165,641 Q164.6094,641 164.3594,640.8281 Q164.1094,640.6563 164,640.2031 Q163.9531,639.8906 163.7813,639.7188 Q163.4688,639.3906 162.9063,639.2031 Q162.3438,639 161.7813,639 Q161.0781,639 160.4844,639.2813 Q159.9063,639.5625 159.4531,640.1875 Q159,640.8125 159,641.6719 L159,642.5938 Q159,643.625 159.8438,644.3125 Q160.6875,645 162.1875,645 Q163.0781,645 163.7031,644.7969 Q164.0625,644.6875 164.4688,644.3281 Q164.7344,644.125 164.875,644.0625 Q165.0156,644 165.1875,644 Q165.5156,644 165.75,644.2656 Q166,644.5156 166,644.875 Q166,645.2188 165.6563,645.625 Q165.1563,646.2188 164.3594,646.5469 Q163.3125,647 162.0313,647 Q160.5313,647 159.3281,646.4063 Q158.3594,645.9375 157.6719,644.9219 Q157,643.9063 157,642.7031 L157,641.6094 Q157,640.3594 157.5938,639.2656 Q158.2031,638.1719 159.25,637.5938 Q160.3125,637 161.5,637 Q162.2188,637 162.8438,637.25 Q163.4688,637.5 164,638 Z "/><ellipse cx="181" cy="641" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="12" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="24" x="187" y="646.4102">final</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="81" x="214" y="646.4102">CardResource</text><rect fill="#FFFFFF" height="17.0938" style="stroke: #000000; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" width="163" x="303" y="622.5"/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="161" x="304" y="635.957">T extends AbstractSmartCard</text><line style="stroke: #D4AC0D; stroke-width: 1.5;" x1="148" x2="462" y1="657.5" y2="657.5"/><line style="stroke: #D4AC0D; stroke-width: 1.5;" x1="148" x2="462" y1="665.5" y2="665.5"/><polygon fill="#FFFF44" points="158,671.5,162,675.5,158,679.5,154,675.5" style="stroke: #B38D22; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="185" x="167" y="680.9189">CardResource(Reader reader, T card)</text><ellipse cx="158" cy="690.3359" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="96" x="167" y="694.7549">Reader getReader()</text><ellipse cx="158" cy="704.1719" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="83" x="167" y="708.5908">T getSmartCard()</text><!--MD5=[d172dfe3fef1c01713438c88abcc6a2c]
class CardSelector--><rect fill="#FEFECE" height="172.5234" id="CardSelector" style="stroke: #D4AC0D; stroke-width: 1.5;" width="228" x="936" y="804"/><ellipse cx="1004.25" cy="820" fill="#ADD1B2" rx="11" ry="11" style="stroke: #ADD1B2; stroke-width: 1.0;"/><path d="M1006.25,816.5 Q1006.4531,816 1006.6875,815.75 Q1006.9219,815.5 1007.1875,815.5 Q1007.6563,815.5 1007.9531,815.7813 Q1008.25,816.0625 1008.25,816.7188 L1008.25,818.2813 Q1008.25,818.9375 1007.9688,819.2188 Q1007.6875,819.5 1007.25,819.5 Q1006.8594,819.5 1006.6094,819.3281 Q1006.3594,819.1563 1006.25,818.7031 Q1006.2031,818.3906 1006.0313,818.2188 Q1005.7188,817.8906 1005.1563,817.7031 Q1004.5938,817.5 1004.0313,817.5 Q1003.3281,817.5 1002.7344,817.7813 Q1002.1563,818.0625 1001.7031,818.6875 Q1001.25,819.3125 1001.25,820.1719 L1001.25,821.0938 Q1001.25,822.125 1002.0938,822.8125 Q1002.9375,823.5 1004.4375,823.5 Q1005.3281,823.5 1005.9531,823.2969 Q1006.3125,823.1875 1006.7188,822.8281 Q1006.9844,822.625 1007.125,822.5625 Q1007.2656,822.5 1007.4375,822.5 Q1007.7656,822.5 1008,822.7656 Q1008.25,823.0156 1008.25,823.375 Q1008.25,823.7188 1007.9063,824.125 Q1007.4063,824.7188 1006.6094,825.0469 Q1005.5625,825.5 1004.2813,825.5 Q1002.7813,825.5 1001.5781,824.9063 Q1000.6094,824.4375 999.9219,823.4219 Q999.25,822.4063 999.25,821.2031 L999.25,820.1094 Q999.25,818.8594 999.8438,817.7656 Q1000.4531,816.6719 1001.5,816.0938 Q1002.5625,815.5 1003.75,815.5 Q1004.4688,815.5 1005.0938,815.75 Q1005.7188,816 1006.25,816.5 Z "/><ellipse cx="1029.75" cy="819.5" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="72" x="1035.75" y="824.9102">CardSelector</text><line style="stroke: #D4AC0D; stroke-width: 1.5;" x1="937" x2="1163" y1="836" y2="836"/><rect fill="none" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="944" y="844"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="116" x="956" y="851.4189">String[0..1] cardProtocol</text><rect fill="none" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="944" y="857.8359"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="101" x="956" y="865.2549">AtrFilter[0..1] atrFilter</text><rect fill="none" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="944" y="871.6719"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="137" x="956" y="879.0908">AidSelector[0..1] aidSelector</text><line style="stroke: #D4AC0D; stroke-width: 1.5;" x1="937" x2="1163" y1="885.5078" y2="885.5078"/><polygon fill="#FFFF44" points="947,891.5078,951,895.5078,947,899.5078,943,895.5078" style="stroke: #B38D22; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="202" x="956" y="900.9268">CardSelector(CardSelectorBuilder builder)</text><ellipse cx="947" cy="910.3438" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" text-decoration="underline" textLength="139" x="956" y="914.7627">CardSelectorBuilder builder()</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="0" x="959" y="928.5986"/><ellipse cx="947" cy="938.0156" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="116" x="956" y="942.4346">String getCardProtocol()</text><ellipse cx="947" cy="951.8516" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="102" x="956" y="956.2705">AtrFilter getAtrFilter()</text><ellipse cx="947" cy="965.6875" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="138" x="956" y="970.1064">AidSelector getAidSelector()</text><!--MD5=[9bb74c6f90a85a40b37333ced13e2f4b]
class CardSelectorBuilder--><rect fill="#FEFECE" height="131.0156" id="CardSelectorBuilder" style="stroke: #D4AC0D; stroke-width: 1.5;" width="366" x="642" y="1055"/><ellipse cx="759.75" cy="1071" fill="#ADD1B2" rx="11" ry="11" style="stroke: #ADD1B2; stroke-width: 1.0;"/><path d="M761.75,1067.5 Q761.9531,1067 762.1875,1066.75 Q762.4219,1066.5 762.6875,1066.5 Q763.1563,1066.5 763.4531,1066.7813 Q763.75,1067.0625 763.75,1067.7188 L763.75,1069.2813 Q763.75,1069.9375 763.4688,1070.2188 Q763.1875,1070.5 762.75,1070.5 Q762.3594,1070.5 762.1094,1070.3281 Q761.8594,1070.1563 761.75,1069.7031 Q761.7031,1069.3906 761.5313,1069.2188 Q761.2188,1068.8906 760.6563,1068.7031 Q760.0938,1068.5 759.5313,1068.5 Q758.8281,1068.5 758.2344,1068.7813 Q757.6563,1069.0625 757.2031,1069.6875 Q756.75,1070.3125 756.75,1071.1719 L756.75,1072.0938 Q756.75,1073.125 757.5938,1073.8125 Q758.4375,1074.5 759.9375,1074.5 Q760.8281,1074.5 761.4531,1074.2969 Q761.8125,1074.1875 762.2188,1073.8281 Q762.4844,1073.625 762.625,1073.5625 Q762.7656,1073.5 762.9375,1073.5 Q763.2656,1073.5 763.5,1073.7656 Q763.75,1074.0156 763.75,1074.375 Q763.75,1074.7188 763.4063,1075.125 Q762.9063,1075.7188 762.1094,1076.0469 Q761.0625,1076.5 759.7813,1076.5 Q758.2813,1076.5 757.0781,1075.9063 Q756.1094,1075.4375 755.4219,1074.4219 Q754.75,1073.4063 754.75,1072.2031 L754.75,1071.1094 Q754.75,1069.8594 755.3438,1068.7656 Q755.9531,1067.6719 757,1067.0938 Q758.0625,1066.5 759.25,1066.5 Q759.9688,1066.5 760.5938,1066.75 Q761.2188,1067 761.75,1067.5 Z "/><ellipse cx="785.25" cy="1070.5" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="111" x="791.25" y="1075.9102">CardSelectorBuilder</text><line style="stroke: #D4AC0D; stroke-width: 1.5;" x1="643" x2="1007" y1="1087" y2="1087"/><line style="stroke: #D4AC0D; stroke-width: 1.5;" x1="643" x2="1007" y1="1095" y2="1095"/><polygon fill="#FFFF44" points="653,1101,657,1105,653,1109,649,1105" style="stroke: #B38D22; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="104" x="662" y="1110.4189">CardSelectorBuilder()</text><ellipse cx="653" cy="1119.8359" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="96" x="662" y="1124.2549">CardSelector build()</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="0" x="665" y="1138.0908"/><ellipse cx="653" cy="1147.5078" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="250" x="662" y="1151.9268">CardSelectorBuilder cardProtocol(String seProtocol)</text><ellipse cx="653" cy="1161.3438" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="286" x="662" y="1165.7627">CardSelectorBuilder atrFilter(CardSelector.AtrFilter atrFilter)</text><ellipse cx="653" cy="1175.1797" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="340" x="662" y="1179.5986">CardSelectorBuilder aidSelector(CardSelector.AidSelector aidSelector)</text><!--MD5=[986279e3cfc2043660398b1cf71c65a2]
class FileOccurrence--><rect fill="#FEFECE" height="103.3438" id="FileOccurrence" style="stroke: #D4AC0D; stroke-width: 1.5;" width="126" x="376" y="1550.5"/><ellipse cx="391" cy="1566.5" fill="#EB937F" rx="11" ry="11" style="stroke: #EB93DF; stroke-width: 1.0;"/><path d="M389.5,1567.5 L389.5,1569.5 L393.5,1569.5 L393.5,1568.5 L393.5,1568.0156 L394.125,1567.5 L394.5,1567.5 L394.875,1567.5 L395.5,1568.0156 L395.5,1568.5 L395.5,1571.5 L387.5,1571.5 L387.0156,1571.5 L386.5,1570.875 L386.5,1570.5 L386.5,1570.125 L387.0156,1569.5 L387.5,1569.5 L387.5,1569.5 L387.5,1563.5 L387.5,1563.5 L387.0156,1563.5 L386.5,1562.875 L386.5,1562.5 L386.5,1562.125 L387.0156,1561.5 L387.5,1561.5 L395.5,1561.5 L395.5,1564.5 L395.5,1564.9844 L394.875,1565.5 L394.5,1565.5 L394.125,1565.5 L393.5,1564.9844 L393.5,1564.5 L393.5,1563.5 L389.5,1563.5 L389.5,1565.5 L390.5,1565.5 L390.5,1565.0156 L390.5,1565.0156 L391.125,1564.5 L391.5,1564.5 L391.875,1564.5 L392.5,1565.0156 L392.5,1565.5 L392.5,1567.5 L392.5,1567.9844 L391.875,1568.5 L391.875,1568.5 L391.5,1568.5 L391.125,1568.5 L390.5,1567.9844 L390.5,1567.9844 L390.5,1567.5 L389.5,1567.5 Z "/><ellipse cx="410" cy="1566" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="83" x="416" y="1571.4102">FileOccurrence</text><line style="stroke: #D4AC0D; stroke-width: 1.5;" x1="377" x2="501" y1="1582.5" y2="1582.5"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="28" x="382" y="1597.9189">FIRST</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="27" x="382" y="1611.7549">LAST</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="26" x="382" y="1625.5908">NEXT</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="51" x="382" y="1639.4268">PREVIOUS</text><line style="stroke: #D4AC0D; stroke-width: 1.5;" x1="377" x2="501" y1="1645.8438" y2="1645.8438"/><!--MD5=[7db03ef0d09735de9c956eac87f10fc3]
class FileControlInformation--><rect fill="#FEFECE" height="103.3438" id="FileControlInformation" style="stroke: #D4AC0D; stroke-width: 1.5;" width="165" x="1071.5" y="1550.5"/><ellipse cx="1086.5" cy="1566.5" fill="#EB937F" rx="11" ry="11" style="stroke: #EB93DF; stroke-width: 1.0;"/><path d="M1085,1567.5 L1085,1569.5 L1089,1569.5 L1089,1568.5 L1089,1568.0156 L1089.625,1567.5 L1090,1567.5 L1090.375,1567.5 L1091,1568.0156 L1091,1568.5 L1091,1571.5 L1083,1571.5 L1082.5156,1571.5 L1082,1570.875 L1082,1570.5 L1082,1570.125 L1082.5156,1569.5 L1083,1569.5 L1083,1569.5 L1083,1563.5 L1083,1563.5 L1082.5156,1563.5 L1082,1562.875 L1082,1562.5 L1082,1562.125 L1082.5156,1561.5 L1083,1561.5 L1091,1561.5 L1091,1564.5 L1091,1564.9844 L1090.375,1565.5 L1090,1565.5 L1089.625,1565.5 L1089,1564.9844 L1089,1564.5 L1089,1563.5 L1085,1563.5 L1085,1565.5 L1086,1565.5 L1086,1565.0156 L1086,1565.0156 L1086.625,1564.5 L1087,1564.5 L1087.375,1564.5 L1088,1565.0156 L1088,1565.5 L1088,1567.5 L1088,1567.9844 L1087.375,1568.5 L1087.375,1568.5 L1087,1568.5 L1086.625,1568.5 L1086,1567.9844 L1086,1567.9844 L1086,1567.5 L1085,1567.5 Z "/><ellipse cx="1105.5" cy="1566" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="122" x="1111.5" y="1571.4102">FileControlInformation</text><line style="stroke: #D4AC0D; stroke-width: 1.5;" x1="1072.5" x2="1235.5" y1="1582.5" y2="1582.5"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="15" x="1077.5" y="1597.9189">FCI</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="19" x="1077.5" y="1611.7549">FCP</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="21" x="1077.5" y="1625.5908">FMD</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="75" x="1077.5" y="1639.4268">NO_RESPONSE</text><line style="stroke: #D4AC0D; stroke-width: 1.5;" x1="1072.5" x2="1235.5" y1="1645.8438" y2="1645.8438"/><!--MD5=[32bde9a16d1fd80730cde0df05390289]
class AtrFilter--><rect fill="#FEFECE" height="111.5313" id="AtrFilter" style="stroke: #D4AC0D; stroke-width: 1.5;" width="172" x="729" y="834.5"/><ellipse cx="771.45" cy="854.5938" fill="#ADD1B2" rx="11" ry="11" style="stroke: #ADD1B2; stroke-width: 1.0;"/><path d="M773.45,851.0938 Q773.6531,850.5938 773.8875,850.3438 Q774.1219,850.0938 774.3875,850.0938 Q774.8563,850.0938 775.1531,850.375 Q775.45,850.6563 775.45,851.3125 L775.45,852.875 Q775.45,853.5313 775.1688,853.8125 Q774.8875,854.0938 774.45,854.0938 Q774.0594,854.0938 773.8094,853.9219 Q773.5594,853.75 773.45,853.2969 Q773.4031,852.9844 773.2313,852.8125 Q772.9188,852.4844 772.3563,852.2969 Q771.7938,852.0938 771.2313,852.0938 Q770.5281,852.0938 769.9344,852.375 Q769.3563,852.6563 768.9031,853.2813 Q768.45,853.9063 768.45,854.7656 L768.45,855.6875 Q768.45,856.7188 769.2938,857.4063 Q770.1375,858.0938 771.6375,858.0938 Q772.5281,858.0938 773.1531,857.8906 Q773.5125,857.7813 773.9188,857.4219 Q774.1844,857.2188 774.325,857.1563 Q774.4656,857.0938 774.6375,857.0938 Q774.9656,857.0938 775.2,857.3594 Q775.45,857.6094 775.45,857.9688 Q775.45,858.3125 775.1063,858.7188 Q774.6063,859.3125 773.8094,859.6406 Q772.7625,860.0938 771.4813,860.0938 Q769.9813,860.0938 768.7781,859.5 Q767.8094,859.0313 767.1219,858.0156 Q766.45,857 766.45,855.7969 L766.45,854.7031 Q766.45,853.4531 767.0438,852.3594 Q767.6531,851.2656 768.7,850.6875 Q769.7625,850.0938 770.95,850.0938 Q771.6688,850.0938 772.2938,850.3438 Q772.9188,850.5938 773.45,851.0938 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="42" x="810.05" y="851.957">«static»</text><ellipse cx="796.55" cy="861.6406" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="12" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="24" x="802.55" y="867.0508">final</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="41" x="829.55" y="867.0508">AtrFilter</text><line style="stroke: #D4AC0D; stroke-width: 1.5;" x1="730" x2="900" y1="874.6875" y2="874.6875"/><line style="stroke: #D4AC0D; stroke-width: 1.5;" x1="730" x2="900" y1="882.6875" y2="882.6875"/><ellipse cx="740" cy="893.6875" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="121" x="749" y="898.1064">AtrFilter(String atrRegex)</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="0" x="752" y="911.9424"/><ellipse cx="740" cy="921.3594" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="100" x="749" y="925.7783">String getAtrRegex()</text><ellipse cx="740" cy="935.1953" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="146" x="749" y="939.6143">boolean atrMatches(byte[] atr)</text><!--MD5=[0c38ce21b8fe3613f2a22c03c2bb1923]
class AidSelector--><rect fill="#FEFECE" height="166.875" id="AidSelector" style="stroke: #D4AC0D; stroke-width: 1.5;" width="274" x="688" y="1264"/><ellipse cx="770.75" cy="1284.0938" fill="#ADD1B2" rx="11" ry="11" style="stroke: #ADD1B2; stroke-width: 1.0;"/><path d="M772.75,1280.5938 Q772.9531,1280.0938 773.1875,1279.8438 Q773.4219,1279.5938 773.6875,1279.5938 Q774.1563,1279.5938 774.4531,1279.875 Q774.75,1280.1563 774.75,1280.8125 L774.75,1282.375 Q774.75,1283.0313 774.4688,1283.3125 Q774.1875,1283.5938 773.75,1283.5938 Q773.3594,1283.5938 773.1094,1283.4219 Q772.8594,1283.25 772.75,1282.7969 Q772.7031,1282.4844 772.5313,1282.3125 Q772.2188,1281.9844 771.6563,1281.7969 Q771.0938,1281.5938 770.5313,1281.5938 Q769.8281,1281.5938 769.2344,1281.875 Q768.6563,1282.1563 768.2031,1282.7813 Q767.75,1283.4063 767.75,1284.2656 L767.75,1285.1875 Q767.75,1286.2188 768.5938,1286.9063 Q769.4375,1287.5938 770.9375,1287.5938 Q771.8281,1287.5938 772.4531,1287.3906 Q772.8125,1287.2813 773.2188,1286.9219 Q773.4844,1286.7188 773.625,1286.6563 Q773.7656,1286.5938 773.9375,1286.5938 Q774.2656,1286.5938 774.5,1286.8594 Q774.75,1287.1094 774.75,1287.4688 Q774.75,1287.8125 774.4063,1288.2188 Q773.9063,1288.8125 773.1094,1289.1406 Q772.0625,1289.5938 770.7813,1289.5938 Q769.2813,1289.5938 768.0781,1289 Q767.1094,1288.5313 766.4219,1287.5156 Q765.75,1286.5 765.75,1285.2969 L765.75,1284.2031 Q765.75,1282.9531 766.3438,1281.8594 Q766.9531,1280.7656 768,1280.1875 Q769.0625,1279.5938 770.25,1279.5938 Q770.9688,1279.5938 771.5938,1279.8438 Q772.2188,1280.0938 772.75,1280.5938 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="42" x="820.25" y="1281.457">«static»</text><ellipse cx="796.25" cy="1291.1406" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="12" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="24" x="802.25" y="1296.5508">final</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="62" x="829.25" y="1296.5508">AidSelector</text><line style="stroke: #D4AC0D; stroke-width: 1.5;" x1="689" x2="961" y1="1304.1875" y2="1304.1875"/><ellipse cx="699" cy="1315.1875" fill="none" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" text-decoration="underline" textLength="141" x="708" y="1319.6064">final int AID_MIN_LENGTH = 5</text><ellipse cx="699" cy="1329.0234" fill="none" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" text-decoration="underline" textLength="153" x="708" y="1333.4424">final int AID_MAX_LENGTH = 16</text><line style="stroke: #D4AC0D; stroke-width: 1.5;" x1="689" x2="961" y1="1339.8594" y2="1339.8594"/><rect fill="#F24D5C" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="696" y="1347.8594"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="188" x="708" y="1355.2783">AidSelector(AidSelectorBuilder builder)</text><ellipse cx="699" cy="1364.6953" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" text-decoration="underline" textLength="132" x="708" y="1369.1143">AidSelectorBuilder builder()</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="0" x="711" y="1382.9502"/><ellipse cx="699" cy="1392.3672" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="111" x="708" y="1396.7861">byte[] getAidToSelect()</text><ellipse cx="699" cy="1406.2031" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="109" x="708" y="1410.6221">boolean isSelectNext()</text><ellipse cx="699" cy="1420.0391" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="248" x="708" y="1424.458">Set&lt;Integer&gt; getSuccessfulSelectionStatusCodes()</text><!--MD5=[fee81bc52a51049c477ecaaae1e1e62b]
class AidSelectorBuilder--><rect fill="#FEFECE" height="186.3594" id="AidSelectorBuilder" style="stroke: #D4AC0D; stroke-width: 1.5;" width="434" x="570" y="1509"/><ellipse cx="726.75" cy="1525" fill="#ADD1B2" rx="11" ry="11" style="stroke: #ADD1B2; stroke-width: 1.0;"/><path d="M728.75,1521.5 Q728.9531,1521 729.1875,1520.75 Q729.4219,1520.5 729.6875,1520.5 Q730.1563,1520.5 730.4531,1520.7813 Q730.75,1521.0625 730.75,1521.7188 L730.75,1523.2813 Q730.75,1523.9375 730.4688,1524.2188 Q730.1875,1524.5 729.75,1524.5 Q729.3594,1524.5 729.1094,1524.3281 Q728.8594,1524.1563 728.75,1523.7031 Q728.7031,1523.3906 728.5313,1523.2188 Q728.2188,1522.8906 727.6563,1522.7031 Q727.0938,1522.5 726.5313,1522.5 Q725.8281,1522.5 725.2344,1522.7813 Q724.6563,1523.0625 724.2031,1523.6875 Q723.75,1524.3125 723.75,1525.1719 L723.75,1526.0938 Q723.75,1527.125 724.5938,1527.8125 Q725.4375,1528.5 726.9375,1528.5 Q727.8281,1528.5 728.4531,1528.2969 Q728.8125,1528.1875 729.2188,1527.8281 Q729.4844,1527.625 729.625,1527.5625 Q729.7656,1527.5 729.9375,1527.5 Q730.2656,1527.5 730.5,1527.7656 Q730.75,1528.0156 730.75,1528.375 Q730.75,1528.7188 730.4063,1529.125 Q729.9063,1529.7188 729.1094,1530.0469 Q728.0625,1530.5 726.7813,1530.5 Q725.2813,1530.5 724.0781,1529.9063 Q723.1094,1529.4375 722.4219,1528.4219 Q721.75,1527.4063 721.75,1526.2031 L721.75,1525.1094 Q721.75,1523.8594 722.3438,1522.7656 Q722.9531,1521.6719 724,1521.0938 Q725.0625,1520.5 726.25,1520.5 Q726.9688,1520.5 727.5938,1520.75 Q728.2188,1521 728.75,1521.5 Z "/><ellipse cx="752.25" cy="1524.5" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="101" x="758.25" y="1529.9102">AidSelectorBuilder</text><line style="stroke: #D4AC0D; stroke-width: 1.5;" x1="571" x2="1003" y1="1541" y2="1541"/><rect fill="none" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="578" y="1549"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="113" x="590" y="1556.4189">byte[5..16] aidToSelect;</text><rect fill="none" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="578" y="1562.8359"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="213" x="590" y="1570.2549">FileOccurrence[0..1] fileOccurrence = FIRST</text><rect fill="none" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="578" y="1576.6719"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="258" x="590" y="1584.0908">FileControlInformation[0..1] fileControlInformation = FCI</text><line style="stroke: #D4AC0D; stroke-width: 1.5;" x1="571" x2="1003" y1="1590.5078" y2="1590.5078"/><rect fill="#F24D5C" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="578" y="1598.5078"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="97" x="590" y="1605.9268">AidSelectorBuilder()</text><ellipse cx="581" cy="1615.3438" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="145" x="590" y="1619.7627">SeSelector.AidSelector build()</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="0" x="593" y="1633.5986"/><ellipse cx="581" cy="1643.0156" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="200" x="590" y="1647.4346">AidSelectorBuilder aidToSelect(byte[] aid)</text><ellipse cx="581" cy="1656.8516" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="201" x="590" y="1661.2705">AidSelectorBuilder aidToSelect(String aid)</text><ellipse cx="581" cy="1670.6875" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="321" x="590" y="1675.1064">AidSelectorBuilder fileOccurrence(FileOccurrence fileOccurrence)</text><ellipse cx="581" cy="1684.5234" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="408" x="590" y="1688.9424">AidSelectorBuilder fileControlInformation(FileControlInformation fileControlInformation)</text><!--MD5=[4e644cdced7f48592705e83a6b5d3ae8]
reverse link CardResource_T to AbstractSmartCard--><path d="M476.028,670.5 C483.502,670.5 490.975,670.5 498.449,670.5 " fill="none" id="CardResource_T&lt;-AbstractSmartCard" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="463.019,670.5,469.019,674.5,475.019,670.5,469.019,666.5,463.019,670.5" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="7" x="470.8426" y="667.6281">1</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="7" x="483.6481" y="667.6158">1</text><!--MD5=[e0914ec2134167efe2257cbfbee2189b]
reverse link CardSelectionsService to AbstractCardSelection--><path d="M915.932,545.61 C937.964,563.21 960.478,581.2 981.277,597.82 " fill="none" id="CardSelectionsService&lt;-AbstractCardSelection" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#FFFFFF" points="905.51,537.28,907.7006,544.1503,914.8849,544.7707,912.6944,537.9004,905.51,537.28" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="7" x="907.4358" y="558.8456">1</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="5" x="966.7665" y="587.0208">*</text><!--MD5=[62b5f1410d68bd0bcb4e06c0376fd479]
link CardSelectionsResult to CardSelectionsService--><path d="M557.848,444 C564.937,444 572.027,444 579.116,444 " fill="none" id="CardSelectionsResult-&gt;CardSelectionsService" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#FFFFFF" points="592.308,444,586.308,440,580.308,444,586.308,448,592.308,444" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="22" x="565.303" y="441.1825">0..1</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="7" x="577.4489" y="441.1825">1</text><!--MD5=[c489a3833ac733e1debfe6b5411b34cc]
reverse link CardSelectionsResult to AbstractSmartCard--><path d="M502.558,545.59 C527.538,565.76 553.148,586.44 576.112,604.99 " fill="none" id="CardSelectionsResult&lt;-AbstractSmartCard" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#FFFFFF" points="492.277,537.28,494.4322,544.1615,501.6132,544.8189,499.4581,537.9374,492.277,537.28" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="7" x="494.1045" y="558.8456">1</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="5" x="561.5859" y="594.0049">*</text><!--MD5=[3f4a1b89a3846f1db48c513ca82bd23c]
link AbstractSmartCard to AbstractCardSelection--><path d="M813.781,670.5 C843.575,670.5 874.821,670.5 904.862,670.5 " fill="none" id="AbstractSmartCard-AbstractCardSelection" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#000000" points="838.75,657.1758,832.75,660.1758,838.75,663.1758,838.75,657.1758" style="stroke: #000000; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="42" x="844.75" y="663.9951">selects</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="22" x="821.4289" y="684.3652">1..0</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="7" x="890.1753" y="667.6439">1</text><!--MD5=[31b11aed7b6d88b43735b7f54d1facfd]
reverse link AidSelector to FileOccurrence--><path d="M674.705,1431.905 C634.434,1455.67 591.428,1482.367 553,1509 C534.71,1521.676 515.604,1536.435 498.378,1550.372 " fill="none" id="AidSelector&lt;-FileOccurrence" style="stroke: #A80036; stroke-width: 1.0;"/><ellipse cx="680.7748" cy="1428.3442" fill="#FFFFFF" rx="8" ry="8" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="673.8747" x2="687.675" y1="1432.3924" y2="1424.296"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="676.7266" x2="684.823" y1="1421.444" y2="1435.2444"/><!--MD5=[18a6dd80f65088794a6f07d590dbbf0a]
reverse link AidSelector to FileControlInformation--><path d="M944.859,1440.489 C993.094,1477.509 1046.87,1518.78 1087.81,1550.202 " fill="none" id="AidSelector&lt;-FileControlInformation" style="stroke: #A80036; stroke-width: 1.0;"/><ellipse cx="939.0731" cy="1436.049" fill="#FFFFFF" rx="8" ry="8" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="945.4192" x2="932.727" y1="1440.92" y2="1431.178"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="934.2021" x2="943.9441" y1="1442.3951" y2="1429.7029"/><!--MD5=[88e7d67e8d3c9d0745e36b335e282fe1]
reverse link AidSelector to AidSelectorBuilder--><path d="M800.582,1446.182 C799.639,1451.179 798.769,1456.139 798,1461 C795.561,1476.412 793.653,1492.867 792.165,1508.882 " fill="none" id="AidSelector&lt;-AidSelectorBuilder" style="stroke: #A80036; stroke-width: 1.0;"/><ellipse cx="802.029" cy="1438.9878" fill="#FFFFFF" rx="8" ry="8" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="800.451" x2="803.607" y1="1446.8306" y2="1431.145"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="794.1862" x2="809.8718" y1="1437.4098" y2="1440.5658"/><polygon fill="#000000" points="808,1472,811,1466,814,1472,808,1472" style="stroke: #000000; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="27" x="799" y="1488.4951">build</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="15" x="776.9716" y="1498.003">1+</text><!--MD5=[506435df0aa778cf9ad7bff313caf67d]
link FileOccurrence to AidSelectorBuilder--><path d="M502.02,1602 C518.409,1602 537.052,1602 556.774,1602 " fill="none" id="FileOccurrence-&gt;AidSelectorBuilder" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="569.878,1602,563.878,1598,557.878,1602,563.878,1606,569.878,1602" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="18" x="520.5" y="1595.4951">set</text><polygon fill="#000000" points="541.5,1588.6758,547.5,1591.6758,541.5,1594.6758,541.5,1588.6758" style="stroke: #000000; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="22" x="510.1159" y="1616.3705">0..1</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="7" x="554.9494" y="1599.2075">1</text><!--MD5=[a3984c5dd77c295b5e467e0fa36669ee]
reverse link AidSelectorBuilder to FileControlInformation--><path d="M1017.42,1602 C1036.38,1602 1054.62,1602 1071.26,1602 " fill="none" id="AidSelectorBuilder&lt;-FileControlInformation" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="1004.198,1602,1010.198,1606,1016.198,1602,1010.198,1598,1004.198,1602" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#000000" points="1029.25,1588.6758,1023.25,1591.6758,1029.25,1594.6758,1029.25,1588.6758" style="stroke: #000000; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="18" x="1035.25" y="1595.4951">set</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="7" x="1012.1293" y="1599.2075">1</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="22" x="1041.4972" y="1616.1579">0..1</text><!--MD5=[3e847ccac6a9841965f3c48ba05566b5]
reverse link CardSelectorBuilder to AidSelector--><path d="M825,1199.314 C825,1220.112 825,1242.663 825,1263.718 " fill="none" id="CardSelectorBuilder&lt;-AidSelector" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#FFFFFF" points="825,1186.277,821,1192.277,825,1198.277,829,1192.277,825,1186.277" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#000000" points="830.5,1227,833.5,1221,836.5,1227,830.5,1227" style="stroke: #000000; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="18" x="826" y="1243.4951">set</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="22" x="802.0203" y="1253.06">0..1</text><!--MD5=[22e0a1f977e6b14a4318532d22611f8e]
link AtrFilter to CardSelectorBuilder--><path d="M817.421,946.692 C818.67,975.176 820.215,1010.404 821.584,1041.608 " fill="none" id="AtrFilter-&gt;CardSelectorBuilder" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#FFFFFF" points="822.158,1054.703,825.8911,1048.5334,821.6318,1042.7145,817.8988,1048.8842,822.158,1054.703" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="18" x="821" y="1021.4951">set</text><polygon fill="#000000" points="825.5,1030.3516,828.5,1036.3516,831.5,1030.3516,825.5,1030.3516" style="stroke: #000000; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="22" x="794.4291" y="967.6567">0..1</text><!--MD5=[1dfcb89d2c962d176fd99d4de5212cc5]
reverse link CardSelector to AidSelector--><path d="M1061.05,992.285 C1063.05,1051.914 1057.37,1127.056 1026,1186 C1010.21,1215.663 986.337,1241.755 960.495,1263.813 " fill="none" id="CardSelector&lt;-AidSelector" style="stroke: #A80036; stroke-width: 1.0;"/><ellipse cx="1060.7204" cy="985.0789" fill="#FFFFFF" rx="8" ry="8" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="1061.0807" x2="1060.36" y1="993.0708" y2="977.087"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="1052.7285" x2="1068.7122" y1="985.4392" y2="984.7185"/><!--MD5=[38bb0d3cbc0cb1ee2d0afa90d334fcf9]
link AtrFilter to CardSelector--><path d="M901.289,890.5 C907.77,890.5 914.25,890.5 920.731,890.5 " fill="none" id="AtrFilter-&gt;CardSelector" style="stroke: #A80036; stroke-width: 1.0;"/><ellipse cx="927.853" cy="890.5" fill="#FFFFFF" rx="8" ry="8" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="919.853" x2="935.853" y1="890.5" y2="890.5"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="927.853" x2="927.853" y1="882.5" y2="898.5"/><!--MD5=[58002d5c440144b8906b4e6a92d74e32]
reverse link CardSelector to CardSelectorBuilder--><path d="M954.741,988.029 C932.482,1010.585 909.3,1034.076 888.794,1054.855 " fill="none" id="CardSelector&lt;-CardSelectorBuilder" style="stroke: #A80036; stroke-width: 1.0;"/><ellipse cx="959.9586" cy="982.7411" fill="#FFFFFF" rx="8" ry="8" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="954.3392" x2="965.578" y1="988.4351" y2="977.047"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="954.2645" x2="965.6527" y1="977.1217" y2="988.3605"/><polygon fill="#000000" points="940,1018,943,1012,946,1018,940,1018" style="stroke: #000000; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="27" x="931" y="1034.4951">build</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="15" x="879.9512" y="1044.3136">1+</text><!--MD5=[7525e8ff12a619f159e1808b3e336f74]
link CardSelectionsService to MultiSelectionProcessing--><path d="M987.521,444 C1010.91,444 1033.85,444 1054.69,444 " fill="none" id="CardSelectionsService-MultiSelectionProcessing" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="18" x="1005.75" y="437.4951">set</text><polygon fill="#000000" points="1026.75,430.6758,1032.75,433.6758,1026.75,436.6758,1026.75,430.6758" style="stroke: #000000; stroke-width: 1.0;"/><!--MD5=[28a45d9202a35091f290d28efae9ea51]
reverse link AbstractCardSelection to CardSelector--><path d="M1062.8,756.583 C1061.31,772.068 1059.76,788.23 1058.26,803.734 " fill="none" id="AbstractCardSelection&lt;-CardSelector" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#FFFFFF" points="1064.09,743.18,1059.533,748.7687,1062.939,755.1247,1067.4961,749.536,1064.09,743.18" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="7" x="1056.0978" y="764.3888">1</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="7" x="1051.6691" y="793.1207">1</text><!--MD5=[83bf6789ba1bf0b4871292efddb9c20e]
link Reader to CardSelectionsService--><path d="M489.222,249.17 C537.84,280.5 595.465,317.64 647.201,350.98 " fill="none" id="Reader-CardSelectionsService" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="35" x="560" y="295.4951">sends</text><polygon fill="#000000" points="598,288.6758,604,291.6758,598,294.6758,598,288.6758" style="stroke: #000000; stroke-width: 1.0;"/><!--MD5=[91989cfbc668deb4bda649ab71540c7d]
link AbstractDefaultSelectionsRequest to CardSelectionsService--><path d="M966.21,200.6 C941.999,233.9 895.906,297.31 856.935,350.92 " fill="none" id="AbstractDefaultSelectionsRequest-CardSelectionsService" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#000000" points="921,292,924,286,927,292,921,292" style="stroke: #000000; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="43" x="904" y="308.4951">exports</text><!--MD5=[321298728cc1691ace71360a9c3b48f4]
link AbstractDefaultSelectionsResponse to CardSelectionsService--><path d="M719.699,200.6 C729.358,233.9 747.747,297.31 763.295,350.92 " fill="none" id="AbstractDefaultSelectionsResponse-CardSelectionsService" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#000000" points="764,292,767,286,770,292,764,292" style="stroke: #000000; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="43" x="747" y="308.4951">imports</text><!--MD5=[f26404c08156f89f5d84eeab69222b5b]
link Reader to CardSelectionsResult--><path d="M378,249.35 C378,280.52 378,317.42 378,350.6 " fill="none" id="Reader-CardSelectionsResult" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="47" x="379" y="295.4951">receives</text><polygon fill="#000000" points="398,304.3516,401,310.3516,404,304.3516,398,304.3516" style="stroke: #000000; stroke-width: 1.0;"/><!--MD5=[2bb33b8712676f50273b429e70957076]
link Reader to CardResource_T--><path d="M197.906,221.74 C155.847,240.9 116.061,268.2 91,307 C35.5398,392.87 41.2577,447.7 91,537 C110.438,571.9 143.283,598.77 177.48,618.89 " fill="none" id="Reader-&gt;CardResource_T" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="189.111,625.46,185.8549,619.0259,178.6634,619.5568,181.9195,625.991,189.111,625.46" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#000000" points="125,446,128,440,131,446,125,446" style="stroke: #000000; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="75" x="92" y="462.4951">connected to</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="22" x="167.8442" y="220.8167">0..1</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="7" x="163.0834" y="614.5691">1</text><!--MD5=[cae9fbeb19c9c2eaf13e96563c6b03d2]
@startuml
skinparam ClassBorderColor #D4AC0D
skinparam stereotypeABorderColor #A9DCDF
skinparam stereotypeIBorderColor #B4A7E5
skinparam stereotypeCBorderColor #ADD1B2
skinparam stereotypeEBorderColor #EB93DF
skinparam shadowing false

skinparam StateBorderColor #D4AC0D
skinparam ActivityBorderColor #D4AC0D

skinparam ClassBackgroundColor<<red>> #FDEDEC
skinparam ClassBorderColor<<red>> #E74C3C
hide <<red>> stereotype
skinparam ClassBackgroundColor<<purple>> #F4ECF7
skinparam ClassBorderColor<<purple>> #8E44AD
hide <<purple>> stereotype
skinparam ClassBackgroundColor<<blue>> #EBF5FB
skinparam ClassBorderColor<<blue>> #3498DB
hide <<blue>> stereotype
skinparam ClassBackgroundColor<<green>> #EAFAF1
skinparam ClassBorderColor<<green>> #2ECC71
hide <<green>> stereotype

skinparam ClassBackgroundColor<<orange>> #FDF2E9
skinparam ClassBorderColor<<orange>> #E67E22
hide <<orange>> stereotype

skinparam ClassBackgroundColor<<grey>> #EAECEE
skinparam ClassBorderColor<<grey>> #2C3E50
hide <<grey>> stereotype

package org.eclipse.keyple.core #FFFFFF {
  package "service" as reader_even #FFFFFF {
+interface Reader {
  +String getName()

  +boolean isCardPresent()
  +boolean isContactlessTransmission()

  +activateProtocol(String applicationReference, String pluginReference)
  +deactivateProtocol(String applicationReference)
}

    package event #FFFFFF {
+abstract AbstractDefaultSelectionsRequest {
}

+abstract AbstractDefaultSelectionsResponse {
}
    }
  }

  package card.selection #FFFFFF {
+class "<b>final</b> CardSelectionsService" as CardSelectionsService {
  +CardSelectionsService(MultiSelectionProcessing multiMode = FIRST_MATCH)

  +int prepareSelection(AbstractCardSelection cardSelection)
  +<b>final</b> prepareReleaseCardChannel()

  +CardSelectionsResult processExplicitSelections(Reader reader)

  +AbstractDefaultSelectionsRequest getDefaultSelectionsRequest()
  +CardSelectionsResult processDefaultSelectionsResponse(
    AbstractDefaultSelectionsResponse selectionResponse)
}
+enum MultiSelectionProcessing {
	FIRST_MATCH
	PROCESS_ALL
}
+abstract AbstractCardSelection {
  +AbstractCardSelection(CardSelector selector)

  #<b>final</b> addApduRequest(ApduRequest apduRequest)
  ~<b>final</b> CardSelectionRequest getCardSelectionRequest()
  {abstract} #AbstractSmartCard parse(CardResponse selectionResponse)

  +CardSelector getCardSelector()
}

+abstract AbstractSmartCard {
  #AbstractSmartCard(SelectionResponse selectionResponse)

  +boolean hasAtr()
  +byte[] getAtrBytes()
  +boolean hasFci()
  +byte[] getFciBytes()
}
+class "<b>final</b> CardSelectionsResult" as CardSelectionsResult {
  ~CardSelectionsResult()
  ~addMatchingCard(int selectionIndex, AbstractSmartCard matchingSe)

  +boolean hasActiveSelection()
  +AbstractSmartCard getActiveSmartCard()

  +int getActiveSelectionIndex()
  +boolean hasSelectionMatched(int selectionIndex)
  +AbstractSmartCard getMatchingCard(int selectionIndex)
  +Map<Integer, AbstractSmartCard> getMatchingSelections()
}
+class "<b>final</b> CardResource<T extends AbstractSmartCard>" as CardResource_T {
  #CardResource(Reader reader, T card)
  +Reader getReader()
  +T getSmartCard()
}

    CardResource_T "1" *-right- "1" AbstractSmartCard

    CardSelectionsService "1" o-down- "*" AbstractCardSelection
    CardSelectionsService "1" o-left- "0..1" CardSelectionsResult

    CardSelectionsResult "1" o-down- "*" AbstractSmartCard
    AbstractSmartCard "1..0" -right- "1" AbstractCardSelection : selects <


+class CardSelector {
  -String[0..1] cardProtocol
  -AtrFilter[0..1] atrFilter
  -AidSelector[0..1] aidSelector
  #CardSelector(CardSelectorBuilder builder)
  +{static}CardSelectorBuilder builder()

  +String getCardProtocol()
  +AtrFilter getAtrFilter()
  +AidSelector getAidSelector()
}
+class CardSelectorBuilder {
  #CardSelectorBuilder()
  +CardSelector build()

  +CardSelectorBuilder cardProtocol(String seProtocol)
  +CardSelectorBuilder atrFilter(CardSelector.AtrFilter atrFilter)
  +CardSelectorBuilder aidSelector(CardSelector.AidSelector aidSelector)
}


+enum FileOccurrence {
  FIRST
  LAST
  NEXT
  PREVIOUS
}

+enum FileControlInformation {
  FCI
  FCP
  FMD
  NO_RESPONSE
}
+class "<b>final</b> AtrFilter" as AtrFilter <<static>> {
  +AtrFilter(String atrRegex)

  +String getAtrRegex()
  +boolean atrMatches(byte[] atr)
}
+class "<b>final</b> AidSelector" as AidSelector <<static>> {
  +{static} final int AID_MIN_LENGTH = 5
  +{static} final int AID_MAX_LENGTH = 16

  -AidSelector(AidSelectorBuilder builder)
  +{static}AidSelectorBuilder builder()

  +byte[] getAidToSelect()
  +boolean isSelectNext()
  +Set<Integer> getSuccessfulSelectionStatusCodes()
}

+class AidSelectorBuilder {
  -byte[5..16] aidToSelect;
  -FileOccurrence[0..1] fileOccurrence = FIRST
  -FileControlInformation[0..1] fileControlInformation = FCI
  -AidSelectorBuilder()
  +SeSelector.AidSelector build()

  +AidSelectorBuilder aidToSelect(byte[] aid)
  +AidSelectorBuilder aidToSelect(String aid)
  +AidSelectorBuilder fileOccurrence(FileOccurrence fileOccurrence)
  +AidSelectorBuilder fileControlInformation(FileControlInformation fileControlInformation)
}
    AidSelector +-down- FileOccurrence
    AidSelector +-down- FileControlInformation
    AidSelector +- - "1+" AidSelectorBuilder : build <
    AidSelectorBuilder "1" *-left- "0..1" FileOccurrence : set <
    AidSelectorBuilder "1" *-right- "0..1" FileControlInformation : set <

    CardSelectorBuilder o-down- "0..1" AidSelector : set <
    CardSelectorBuilder o-up- "0..1" AtrFilter : set <

    CardSelector +- - AidSelector
    CardSelector +-left- AtrFilter
    CardSelector +- - "1+" CardSelectorBuilder : build <

    MultiSelectionProcessing -left- CardSelectionsService : set <

    AbstractCardSelection "1" o-down- "1" CardSelector
  }

  CardSelectionsService -up- Reader : sends <
  CardSelectionsService -up- AbstractDefaultSelectionsRequest : exports >
  CardSelectionsService -up- AbstractDefaultSelectionsResponse : imports >

  CardSelectionsResult -up- Reader : receives <
  Reader "0..1" - -* "1" CardResource_T : connected to <
}
@enduml

PlantUML version 1.2020.09(Sun May 10 14:51:06 MUT 2020)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Java Version: 11.0.7+10-b765.64
Operating System: Windows 10
Default Encoding: Cp1252
Language: fr
Country: FR
--></g></svg>